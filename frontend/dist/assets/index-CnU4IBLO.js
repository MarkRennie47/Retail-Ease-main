(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function PE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function fw(){if(Nv)return Pl;Nv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Dv;function dw(){return Dv||(Dv=1,fm.exports=fw()),fm.exports}var b=dw(),dm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function mw(){if(xv)return Re;xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function L(x,ne,ue){this.props=x,this.context=ne,this.refs=$,this.updater=ue||V}L.prototype.isReactComponent={},L.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=L.prototype;function re(x,ne,ue){this.props=x,this.context=ne,this.refs=$,this.updater=ue||V}var Z=re.prototype=new K;Z.constructor=re,M(Z,L.prototype),Z.isPureReactComponent=!0;var ie=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function N(x,ne,ue,ae,ye,Ne){return ue=Ne.ref,{$$typeof:i,type:x,key:ne,ref:ue!==void 0?ue:null,props:Ne}}function R(x,ne){return N(x.type,ne,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function O(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return ne[ue]})}var k=/\/+/g;function j(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):ne.toString(36)}function D(){}function Lt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ot(x,ne,ue,ae,ye){var Ne=typeof x;(Ne==="undefined"||Ne==="boolean")&&(x=null);var Ae=!1;if(x===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(x.$$typeof){case i:case e:Ae=!0;break;case E:return Ae=x._init,ot(Ae(x._payload),ne,ue,ae,ye)}}if(Ae)return ye=ye(x),Ae=ae===""?"."+j(x,0):ae,ie(ye)?(ue="",Ae!=null&&(ue=Ae.replace(k,"$&/")+"/"),ot(ye,ne,ue,"",function(Yn){return Yn})):ye!=null&&(I(ye)&&(ye=R(ye,ue+(ye.key==null||x&&x.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+Ae)),ne.push(ye)),1;Ae=0;var xt=ae===""?".":ae+":";if(ie(x))for(var Ze=0;Ze<x.length;Ze++)ae=x[Ze],Ne=xt+j(ae,Ze),Ae+=ot(ae,ne,ue,Ne,ye);else if(Ze=S(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(ae=x.next()).done;)ae=ae.value,Ne=xt+j(ae,Ze++),Ae+=ot(ae,ne,ue,Ne,ye);else if(Ne==="object"){if(typeof x.then=="function")return ot(Lt(x),ne,ue,ae,ye);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(x,ne,ue){if(x==null)return x;var ae=[],ye=0;return ot(x,ae,"","",function(Ne){return ne.call(ue,Ne,ye++)}),ae}function le(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return Re.Children={map:Y,forEach:function(x,ne,ue){Y(x,function(){ne.apply(this,arguments)},ue)},count:function(x){var ne=0;return Y(x,function(){ne++}),ne},toArray:function(x){return Y(x,function(ne){return ne})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return se.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,ne,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ae=M({},x.props),ye=x.key,Ne=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!ce.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(ae[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=ue;else if(1<Ae){for(var xt=Array(Ae),Ze=0;Ze<Ae;Ze++)xt[Ze]=arguments[Ze+2];ae.children=xt}return N(x.type,ye,void 0,void 0,Ne,ae)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,ne,ue){var ae,ye={},Ne=null;if(ne!=null)for(ae in ne.key!==void 0&&(Ne=""+ne.key),ne)ce.call(ne,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=ne[ae]);var Ae=arguments.length-2;if(Ae===1)ye.children=ue;else if(1<Ae){for(var xt=Array(Ae),Ze=0;Ze<Ae;Ze++)xt[Ze]=arguments[Ze+2];ye.children=xt}if(x&&x.defaultProps)for(ae in Ae=x.defaultProps,Ae)ye[ae]===void 0&&(ye[ae]=Ae[ae]);return N(x,Ne,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:le}},Re.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Re.startTransition=function(x){var ne=se.T,ue={};se.T=ue;try{var ae=x(),ye=se.S;ye!==null&&ye(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,pe)}catch(Ne){pe(Ne)}finally{se.T=ne}},Re.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Re.use=function(x){return se.H.use(x)},Re.useActionState=function(x,ne,ue){return se.H.useActionState(x,ne,ue)},Re.useCallback=function(x,ne){return se.H.useCallback(x,ne)},Re.useContext=function(x){return se.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,ne){return se.H.useDeferredValue(x,ne)},Re.useEffect=function(x,ne,ue){var ae=se.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(x,ne)},Re.useId=function(){return se.H.useId()},Re.useImperativeHandle=function(x,ne,ue){return se.H.useImperativeHandle(x,ne,ue)},Re.useInsertionEffect=function(x,ne){return se.H.useInsertionEffect(x,ne)},Re.useLayoutEffect=function(x,ne){return se.H.useLayoutEffect(x,ne)},Re.useMemo=function(x,ne){return se.H.useMemo(x,ne)},Re.useOptimistic=function(x,ne){return se.H.useOptimistic(x,ne)},Re.useReducer=function(x,ne,ue){return se.H.useReducer(x,ne,ue)},Re.useRef=function(x){return se.H.useRef(x)},Re.useState=function(x){return se.H.useState(x)},Re.useSyncExternalStore=function(x,ne,ue){return se.H.useSyncExternalStore(x,ne,ue)},Re.useTransition=function(){return se.H.useTransition()},Re.version="19.1.0",Re}var Ov;function cp(){return Ov||(Ov=1,dm.exports=mw()),dm.exports}var G=cp();const Hr=PE(G);var mm={exports:{}},Vl={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function pw(){return Mv||(Mv=1,function(i){function e(Y,le){var pe=Y.length;Y.push(le);e:for(;0<pe;){var ze=pe-1>>>1,x=Y[ze];if(0<o(x,le))Y[ze]=le,Y[pe]=x,pe=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],pe=Y.pop();if(pe!==le){Y[0]=pe;e:for(var ze=0,x=Y.length,ne=x>>>1;ze<ne;){var ue=2*(ze+1)-1,ae=Y[ue],ye=ue+1,Ne=Y[ye];if(0>o(ae,pe))ye<x&&0>o(Ne,ae)?(Y[ze]=Ne,Y[ye]=pe,ze=ye):(Y[ze]=ae,Y[ue]=pe,ze=ue);else if(ye<x&&0>o(Ne,pe))Y[ze]=Ne,Y[ye]=pe,ze=ye;else break e}}return le}function o(Y,le){var pe=Y.sortIndex-le.sortIndex;return pe!==0?pe:Y.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,S=3,V=!1,M=!1,$=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ie(Y){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Y)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function se(Y){if($=!1,ie(Y),!M)if(n(p)!==null)M=!0,ce||(ce=!0,j());else{var le=n(g);le!==null&&ot(se,le.startTime-Y)}}var ce=!1,N=-1,R=5,I=-1;function O(){return L?!0:!(i.unstable_now()-I<R)}function k(){if(L=!1,ce){var Y=i.unstable_now();I=Y;var le=!0;try{e:{M=!1,$&&($=!1,re(N),N=-1),V=!0;var pe=S;try{t:{for(ie(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&O());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var x=ze(w.expirationTime<=Y);if(Y=i.unstable_now(),typeof x=="function"){w.callback=x,ie(Y),le=!0;break t}w===n(p)&&s(p),ie(Y)}else s(p);w=n(p)}if(w!==null)le=!0;else{var ne=n(g);ne!==null&&ot(se,ne.startTime-Y),le=!1}}break e}finally{w=null,S=pe,V=!1}le=void 0}}finally{le?j():ce=!1}}}var j;if(typeof Z=="function")j=function(){Z(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Lt=D.port2;D.port1.onmessage=k,j=function(){Lt.postMessage(null)}}else j=function(){K(k,0)};function ot(Y,le){N=K(function(){Y(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var pe=S;S=le;try{return Y()}finally{S=pe}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=S;S=Y;try{return le()}finally{S=pe}},i.unstable_scheduleCallback=function(Y,le,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,Y={id:E++,callback:le,priorityLevel:Y,startTime:pe,expirationTime:x,sortIndex:-1},pe>ze?(Y.sortIndex=pe,e(g,Y),n(p)===null&&Y===n(g)&&($?(re(N),N=-1):$=!0,ot(se,pe-ze))):(Y.sortIndex=x,e(p,Y),M||V||(M=!0,ce||(ce=!0,j()))),Y},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Y){var le=S;return function(){var pe=S;S=le;try{return Y.apply(this,arguments)}finally{S=pe}}}}(gm)),gm}var Pv;function gw(){return Pv||(Pv=1,pm.exports=pw()),pm.exports}var ym={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function yw(){if(Vv)return Yt;Vv=1;var i=cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var kv;function _w(){if(kv)return ym.exports;kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=yw(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function vw(){if(Uv)return Vl;Uv=1;var i=gw(),e=cp(),n=_w();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case L:return"Profiler";case $:return"StrictMode";case se:return"Suspense";case ce:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case Z:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ie:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Lt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Lt(t(r))}catch{}}return null}var ot=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function ne(t){return{current:t}}function ue(t){0>x||(t.current=ze[x],ze[x]=null,x--)}function ae(t,r){x++,ze[x]=t.current,t.current=r}var ye=ne(null),Ne=ne(null),Ae=ne(null),xt=ne(null);function Ze(t,r){switch(ae(Ae,r),ae(Ne,t),ae(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=iv(r),t=rv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),ae(ye,t)}function Yn(){ue(ye),ue(Ne),ue(Ae)}function ar(t){t.memoizedState!==null&&ae(xt,t);var r=ye.current,a=rv(r,t.type);r!==a&&(ae(Ne,t),ae(ye,a))}function Ai(t){Ne.current===t&&(ue(ye),ue(Ne)),xt.current===t&&(ue(xt),Nl._currentValue=pe)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,Su=i.unstable_requestPaint,wn=i.unstable_now,ff=i.unstable_getCurrentPriorityLevel,Io=i.unstable_ImmediatePriority,ra=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,df=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Co=i.log,Ru=i.unstable_setDisableYieldValue,lt=null,Fe=null;function fn(t){if(typeof Co=="function"&&Ru(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Qt=Math.clz32?Math.clz32:cs,Iu=Math.log,mf=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(Iu(t)/mf|0)|0}var hs=256,fs=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function aa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(v&=T,v!==0?h=Un(v):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):v!==0?h=Un(v):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ds(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function No(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),t}function xo(){var t=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Si(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Qt(a),J=1<<X;T[X]=0,C[X]=-1;var q=H[X];if(q!==null)for(H[X]=null,X=0;X<q.length;X++){var F=q[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Xn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Qt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Cu(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var tt=Math.random().toString(36).slice(2),At="__reactFiber$"+tt,yt="__reactProps$"+tt,Sn="__reactContainer$"+tt,Po="__reactEvents$"+tt,pf="__reactListeners$"+tt,ur="__reactHandles$"+tt,Nu="__reactResources$"+tt,ms="__reactMarker$"+tt;function cr(t){delete t[At],delete t[yt],delete t[Po],delete t[pf],delete t[ur]}function Ri(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=lv(t);t!==null;){if(a=t[At])return a;t=lv(t)}return r}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[At]||t[Sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function en(t){var r=t[Nu];return r||(r=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[ms]=!0}var Vo=new Set,la={};function Ln(t,r){Ii(t,r),Ii(t+"Capture",r)}function Ii(t,r){for(la[t]=r,t=0;t<r.length;t++)Vo.add(r[t])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},ps={};function Ou(t){return as.call(ps,t)?!0:as.call(xu,t)?!1:Du.test(t)?ps[t]=!0:(xu[t]=!0,!1)}function hr(t,r,a){if(Ou(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Jn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function jt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var gs,Mu;function Ci(t){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+Mu}var ua=!1;function ca(t,r){if(!t||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),H=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ca(t.type,!1);case 11:return ca(t.type.render,!1);case 1:return ca(t.type,!0);case 31:return Ci("Activity");default:return""}}function ha(t){try{var r="";do r+=ko(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gf(t){var r=Uo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function fa(t){t._valueTracker||(t._valueTracker=gf(t))}function Lo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yf=/[\n"\\]/g;function _t(t){return t.replace(yf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?fr(t,v,tn(r)):a!=null?fr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function _s(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function fr(t,r,a){r==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ni(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+tn(a):""}function vs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Pu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Pu(t,d,r[d])}function zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return vf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xi=null,Oi=null;function Bo(t){var r=Wn(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Lo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(t,!!a.multiple,r,!1)}}}var ei=!1;function Vu(t,r,a){if(ei)return t(r,a);ei=!0;try{var l=t(r);return l}finally{if(ei=!1,(xi!==null||Oi!==null)&&(Cc(),xi&&(r=xi,t=Oi,Oi=xi=null,Bo(r),t)))for(r=0;r<t.length;r++)Bo(t[r])}}function Ts(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(jn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Cn=!1}var ti=null,dr=null,Mi=null;function Ho(){if(Mi)return Mi;var t,r=dr,a=r.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function ni(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function qo(){return!1}function Ot(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:qo,this.isPropagationStopped=qo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=Ot(He),As=E({},He,{view:0,detail:0}),ku=Ot(As),pa,ga,ri,ws=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(pa=t.screenX-ri.screenX,ga=t.screenY-ri.screenY):ga=pa=0,ri=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Nn=Ot(ws),Uu=E({},ws,{dataTransfer:0}),Ef=Ot(Uu),Ss=E({},As,{relatedTarget:0}),ya=Ot(Ss),Fo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Ot(Fo),Lu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),va=Ot(Lu),Tf=E({},He,{data:0}),Go=Ot(Tf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function Is(){return Ko}var Bu=E({},As,{key:function(t){if(t.key){var r=Rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ea=Ot(Bu),Hu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Ot(Hu),Pi=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),qu=Ot(Pi),Fu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Ot(Fu),Ku=E({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Ot(Ku),nn=E({},He,{newState:0,oldState:0}),Qu=Ot(nn),$u=[9,13,27,32],si=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!si||c&&8<c&&11>=c),A=" ",z=!1;function Q(t,r){switch(t){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function wt(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function ke(t,r){if(Ve)return t==="compositionend"||!si&&Q(t,r)?(t=Ho(),Mi=dr=ti=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function Vi(t,r,a,l){xi?Oi?Oi.push(l):Oi=[l]:xi=l,r=Pc(r,"onChange"),0<r.length&&(a=new ma("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,ai=null;function $o(t){Z_(t,0)}function Yu(t){var r=Zn(t);if(Lo(r))return t}function vg(t,r){if(t==="change")return r}var Eg=!1;if(jn){var bf;if(jn){var Af="oninput"in document;if(!Af){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Af=typeof Tg.oninput=="function"}bf=Af}else bf=!1;Eg=bf&&(!document.documentMode||9<document.documentMode)}function bg(){zt&&(zt.detachEvent("onpropertychange",Ag),ai=zt=null)}function Ag(t){if(t.propertyName==="value"&&Yu(ai)){var r=[];Vi(r,ai,t,In(t)),Vu($o,r)}}function Hb(t,r,a){t==="focusin"?(bg(),zt=r,ai=a,zt.attachEvent("onpropertychange",Ag)):t==="focusout"&&bg()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(ai)}function Fb(t,r){if(t==="click")return Yu(r)}function Gb(t,r){if(t==="input"||t==="change")return Yu(r)}function Kb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mn=typeof Object.is=="function"?Object.is:Kb;function Yo(t,r){if(mn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!as.call(r,h)||!mn(t[h],r[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,r){var a=wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Rg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Rg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ys(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ys(t.document)}return r}function wf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Qb=jn&&"documentMode"in document&&11>=document.documentMode,ba=null,Sf=null,Xo=null,Rf=!1;function Cg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||ba==null||ba!==ys(l)||(l=ba,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Pc(Sf,"onSelect"),0<l.length&&(r=new ma("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ba)))}function Cs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},If={},Ng={};jn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ns(t){if(If[t])return If[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ng)return If[t]=r[a];return t}var Dg=Ns("animationend"),xg=Ns("animationiteration"),Og=Ns("animationstart"),$b=Ns("transitionrun"),Yb=Ns("transitionstart"),Xb=Ns("transitioncancel"),Mg=Ns("transitionend"),Pg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function zn(t,r){Pg.set(t,r),Ln(r,[t])}var Vg=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ha(r)},Vg.set(t,r),r)}return{value:t,source:r,stack:ha(r)}}var xn=[],wa=0,Nf=0;function Xu(){for(var t=wa,r=Nf=wa=0;r<t;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var h=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&kg(a,h,d)}}function Wu(t,r,a,l){xn[wa++]=t,xn[wa++]=r,xn[wa++]=a,xn[wa++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,r,a,l){return Wu(t,r,a,l),Zu(t)}function Sa(t,r){return Wu(t,null,null,r),Zu(t)}function kg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(t){if(50<Tl)throw Tl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ra={};function Wb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,a,l){return new Wb(t,r,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,r){var a=t.alternate;return a===null?(a=pn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ug(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=JA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=pn(31,a,r,h),t.elementType=I,t.lanes=d,t;case M:return Ds(a.children,h,d,r);case $:v=8,h|=24;break;case L:return t=pn(12,a,r,h|2),t.elementType=L,t.lanes=d,t;case se:return t=pn(13,a,r,h),t.elementType=se,t.lanes=d,t;case ce:return t=pn(19,a,r,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case Z:v=10;break e;case re:v=9;break e;case ie:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=pn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ds(t,r,a,l){return t=pn(7,t,l,r),t.lanes=a,t}function Of(t,r,a){return t=pn(6,t,null,r),t.lanes=a,t}function Mf(t,r,a){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Ca=0,ec=null,tc=0,On=[],Mn=0,xs=null,Ui=1,Li="";function Os(t,r){Ia[Ca++]=tc,Ia[Ca++]=ec,ec=t,tc=r}function Lg(t,r,a){On[Mn++]=Ui,On[Mn++]=Li,On[Mn++]=xs,xs=t;var l=Ui;t=Li;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-Qt(r)+h|a<<h|l,Li=d+t}else Ui=1<<d|a<<h|l,Li=t}function Pf(t){t.return!==null&&(Os(t,1),Lg(t,1,0))}function Vf(t){for(;t===ec;)ec=Ia[--Ca],Ia[Ca]=null,tc=Ia[--Ca],Ia[Ca]=null;for(;t===xs;)xs=On[--Mn],On[Mn]=null,Li=On[--Mn],On[Mn]=null,Ui=On[--Mn],On[Mn]=null}var rn=null,ut=null,Be=!1,Ms=null,oi=!1,kf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw Jo(Dn(r,t)),kf}function jg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[yt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Oe(Al[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),vs(r,l.value,l.defaultValue,l.children),fa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||nv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Ps(t)}function zg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:rn=rn.return}}function Wo(t){if(t!==rn)return!1;if(!Be)return zg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ps(t),zg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Nr(t.type)?(t=nm,nm=null,ut=t):ut=r):ut=rn?Hn(t.stateNode.nextSibling):null;return!0}function Zo(){ut=rn=null,Be=!1}function Bg(){var t=Ms;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ms=null),t}function Jo(t){Ms===null?Ms=[t]:Ms.push(t)}var Uf=ne(null),Vs=null,ji=null;function mr(t,r,a){ae(Uf,r._currentValue),r._currentValue=a}function zi(t){t._currentValue=Uf.current,ue(Uf)}function Lf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function jf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Lf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Lf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function el(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===xt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&jf(r,t,a,l),r.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Vs=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Hg(Vs,t)}function ic(t,r){return Vs===null&&ks(t),Hg(t,r)}function Hg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ji=ji.next=r;return a}var Zb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Jb=i.unstable_scheduleCallback,eA=i.unstable_NormalPriority,Rt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Zb,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&Jb(eA,function(){t.controller.abort()})}var nl=null,Bf=0,Na=0,Da=null;function tA(t,r){if(nl===null){var a=nl=[];Bf=0,Na=qd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,r.then(qg,qg),r}function qg(){if(--Bf===0&&nl!==null){Da!==null&&(Da.status="fulfilled");var t=nl;nl=null,Na=0,Da=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function nA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&tA(t,r),Fg!==null&&Fg(t,r)};var Us=ne(null);function Hf(){var t=Us.current;return t!==null?t:Je.pooledCache}function rc(t,r){r===null?ae(Us,Us.current):ae(Us,r.pool)}function Gg(){var t=Hf();return t===null?null:{parent:Rt._currentValue,pool:t}}var il=Error(s(460)),Kg=Error(s(474)),sc=Error(s(542)),qf={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function $g(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xg(t),t;default:if(typeof r.status=="string")r.then(ac,ac);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Xg(t),t}throw rl=r,il}}var rl=null;function Yg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}function Xg(t){if(t===il||t===sc)throw Error(s(483))}var pr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(t),kg(t,null,a),r}return Wu(t,l,r,a),Zu(t)}function sl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}function Kf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Qf=!1;function al(){if(Qf){var t=Da;if(t!==null)throw t}}function ol(t,r,a,l){Qf=!1;var h=t.updateQueue;pr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,H=C.next;C.next=null,v===null?d=H:v.next=H,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,X=H=C=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Ue&q)===q:(l&q)===q){q!==0&&q===Na&&(Qf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,_e=T;q=r;var Xe=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){J=Te.call(Xe,J,q);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,q=typeof Te=="function"?Te.call(Xe,J,q):Te,q==null)break e;J=E({},J,q);break e;case 2:pr=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=F,C=J):X=X.next=F,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(C=J),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Sr|=v,t.lanes=v,t.memoizedState=J}}function Wg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Zg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],r)}var xa=ne(null),oc=ne(0);function Jg(t,r){t=Qi,ae(oc,t),ae(xa,r),Qi=t|r.baseLanes}function $f(){ae(oc,Qi),ae(xa,xa.current)}function Yf(){Qi=oc.current,ue(xa),ue(oc)}var _r=0,Ie=null,$e=null,vt=null,lc=!1,Oa=!1,Ls=!1,uc=0,ll=0,Ma=null,iA=0;function mt(){throw Error(s(321))}function Xf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!mn(t[a],r[a]))return!1;return!0}function Wf(t,r,a,l,h,d){return _r=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?ky:Uy,Ls=!1,d=a(l,h),Ls=!1,Oa&&(d=ty(r,a,l,h)),ey(t),d}function ey(t){Y.H=pc;var r=$e!==null&&$e.next!==null;if(_r=0,vt=$e=Ie=null,lc=!1,ll=0,Ma=null,r)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&nc(t)&&(Pt=!0))}function ty(t,r,a,l){Ie=t;var h=0;do{if(Oa&&(Ma=null),ll=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=cA,d=r(a,l)}while(Oa);return d}function rA(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?ul(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Zf(){var t=uc!==0;return uc=0,t}function Jf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ed(t){if(lc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lc=!1}_r=0,vt=$e=Ie=null,Oa=!1,ll=uc=0,Ma=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var r=ll;return ll+=1,Ma===null&&(Ma=[]),t=$g(Ma,t,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?ky:Uy),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===Z)return $t(t)}throw Error(s(438,String(t)))}function nd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=td(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Bi(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=Et();return id(r,$e,t)}function id(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,C=null,H=r,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ue&J)===J:(_r&J)===J){var q=H.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Na&&(X=!0);else if((_r&q)===q){H=H.next,q===Na&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=J,v=d):C=C.next=J,Ie.lanes|=q,Sr|=q;J=H.action,Ls&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else q={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=q,v=d):C=C.next=q,Ie.lanes|=J,Sr|=J;H=H.next}while(H!==null&&H!==r);if(C===null?v=d:C.next=T,!mn(d,t.memoizedState)&&(Pt=!0,X&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,r,a){var l=Ie,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!mn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Pt=!0),h=h.queue;var T=sy.bind(null,l,h,t);if(cl(2048,8,T,[t]),h.getSnapshot!==r||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,fc(),ry.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(_r&124)!==0||iy(l,r,a)}return a}function iy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=td(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ry(t,r,a,l){r.value=a,r.getSnapshot=l,ay(r)&&oy(t)}function sy(t,r,a){return a(function(){ay(r)&&oy(t)})}function ay(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mn(t,a)}catch{return!0}}function oy(t){var r=Sa(t,2);r!==null&&En(r,t,2)}function sd(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ls){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},r}function ly(t,r,a,l){return t.baseState=a,id(t,$e,typeof l=="function"?l:Bi)}function sA(t,r,a,l,h){if(mc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,uy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function uy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),C=Y.S;C!==null&&C(v,T),cy(t,r,T)}catch(H){ad(t,r,H)}finally{Y.T=d}}else try{d=a(h,l),cy(t,r,d)}catch(H){ad(t,r,H)}}function cy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,r,l)},function(l){return ad(t,r,l)}):hy(t,r,a)}function hy(t,r,a){r.status="fulfilled",r.value=a,fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,uy(t,a)))}function ad(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,fy(r),r=r.next;while(r!==l)}t.action=null}function fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dy(t,r){return r}function my(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(ut){t:{for(var h=ut,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:r},a.queue=l,a=My.bind(null,Ie,l),l.dispatch=a,l=sd(!1),d=hd.bind(null,Ie,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=sA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function py(t){var r=Et();return gy(r,$e,t)}function gy(t,r,a){if(r=id(t,r,dy)[0],t=hc(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ul(r)}catch(v){throw v===il?sc:v}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Pa(9,fc(),aA.bind(null,h,a),null)),[l,d,t]}function aA(t,r){t.action=r}function yy(t){var r=Et(),a=$e;if(a!==null)return gy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=td(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function fc(){return{destroy:void 0,resource:void 0}}function _y(){return Et().memoizedState}function dc(t,r,a,l){var h=an();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Pa(1|r,fc(),a,l)}function cl(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Xf(l,$e.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(Ie.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function vy(t,r){dc(8390656,8,t,r)}function Ey(t,r){cl(2048,8,t,r)}function Ty(t,r){return cl(4,2,t,r)}function by(t,r){return cl(4,4,t,r)}function Ay(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function wy(t,r,a){a=a!=null?a.concat([t]):null,cl(4,4,Ay.bind(null,r,t),a)}function od(){}function Sy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ry(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=t(),Ls){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function ld(t,r,a){return a===void 0||(_r&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=N_(),Ie.lanes|=t,Sr|=t,a)}function Iy(t,r,a,l){return mn(a,r)?a:xa.current!==null?(t=ld(t,a,l),mn(t,r)||(Pt=!0),t):(_r&42)===0?(Pt=!0,t.memoizedState=a):(t=N_(),Ie.lanes|=t,Sr|=t,r)}function Cy(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,hd(t,!1,r,a);try{var C=h(),H=Y.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=nA(C,l);hl(t,r,X,vn(t))}else hl(t,r,l,vn(t))}catch(J){hl(t,r,{then:function(){},status:"rejected",reason:J},vn())}finally{le.p=d,Y.T=v}}function oA(){}function ud(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ny(t).queue;Cy(t,h,r,pe,a===null?oA:function(){return Dy(t),a(l)})}function Ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Dy(t){var r=Ny(t).next.queue;hl(t,r,{},vn())}function cd(){return $t(Nl)}function xy(){return Et().memoizedState}function Oy(){return Et().memoizedState}function lA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();t=gr(a);var l=yr(r,t,a);l!==null&&(En(l,r,a),sl(l,r,a)),r={cache:zf()},t.payload=r;return}r=r.return}}function uA(t,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Py(r,a):(a=Df(t,r,a,l),a!==null&&(En(a,t,l),Vy(a,r,l)))}function My(t,r,a){var l=vn();hl(t,r,a,l)}function hl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Py(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Wu(t,r,h,0),Je===null&&Xu(),!1}catch{}finally{}if(a=Df(t,r,h,l),a!==null)return En(a,t,l),Vy(a,r,l),!0}return!1}function hd(t,r,a,l){if(l={lane:2,revertLane:qd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(r)throw Error(s(479))}else r=Df(t,a,l,2),r!==null&&En(r,t,2)}function mc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function Py(t,r){Oa=lc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Vy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}var pc={readContext:$t,use:cc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},ky={readContext:$t,use:cc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:vy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,Ay.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ls){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Ls){fn(!0);try{a(r)}finally{fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=sd(t);var r=t.queue,a=My.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,r){var a=an();return ld(a,t,r)},useTransition:function(){var t=sd(!1);return t=Cy.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=an();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Ue&124)!==0||iy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,fc(),ry.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=Je.identifierPrefix;if(Be){var a=Li,l=Ui;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=iA++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:cd,useFormState:my,useActionState:my,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:nd,useCacheRefresh:function(){return an().memoizedState=lA.bind(null,Ie)}},Uy={readContext:$t,use:cc,useCallback:Sy,useContext:$t,useEffect:Ey,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:hc,useRef:_y,useState:function(){return hc(Bi)},useDebugValue:od,useDeferredValue:function(t,r){var a=Et();return Iy(a,$e.memoizedState,t,r)},useTransition:function(){var t=hc(Bi)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:cd,useFormState:py,useActionState:py,useOptimistic:function(t,r){var a=Et();return ly(a,$e,t,r)},useMemoCache:nd,useCacheRefresh:Oy},cA={readContext:$t,use:cc,useCallback:Sy,useContext:$t,useEffect:Ey,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:rd,useRef:_y,useState:function(){return rd(Bi)},useDebugValue:od,useDeferredValue:function(t,r){var a=Et();return $e===null?ld(a,t,r):Iy(a,$e.memoizedState,t,r)},useTransition:function(){var t=rd(Bi)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:ny,useId:xy,useHostTransitionStatus:cd,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var a=Et();return $e!==null?ly(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Oy},Va=null,fl=0;function gc(t){var r=fl;return fl+=1,Va===null&&(Va=[]),$g(Va,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function yc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ly(t){var r=t._init;return r(t._payload)}function jy(t){function r(U,P){if(t){var B=U.deletions;B===null?(U.deletions=[P],U.flags|=16):B.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function h(U,P){return U=ki(U,P),U.index=0,U.sibling=null,U}function d(U,P,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<P?(U.flags|=67108866,P):B):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,P,B,W){return P===null||P.tag!==6?(P=Of(B,U.mode,W),P.return=U,P):(P=h(P,B),P.return=U,P)}function C(U,P,B,W){var fe=B.type;return fe===M?X(U,P,B.props.children,W,B.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ly(fe)===P.type)?(P=h(P,B.props),dl(P,B),P.return=U,P):(P=Ju(B.type,B.key,B.props,null,U.mode,W),dl(P,B),P.return=U,P)}function H(U,P,B,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Mf(B,U.mode,W),P.return=U,P):(P=h(P,B.children||[]),P.return=U,P)}function X(U,P,B,W,fe){return P===null||P.tag!==7?(P=Ds(B,U.mode,W,fe),P.return=U,P):(P=h(P,B),P.return=U,P)}function J(U,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Of(""+P,U.mode,B),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return B=Ju(P.type,P.key,P.props,null,U.mode,B),dl(B,P),B.return=U,B;case V:return P=Mf(P,U.mode,B),P.return=U,P;case R:var W=P._init;return P=W(P._payload),J(U,P,B)}if(ot(P)||j(P))return P=Ds(P,U.mode,B,null),P.return=U,P;if(typeof P.then=="function")return J(U,gc(P),B);if(P.$$typeof===Z)return J(U,ic(U,P),B);yc(U,P)}return null}function q(U,P,B,W){var fe=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(U,P,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===fe?C(U,P,B,W):null;case V:return B.key===fe?H(U,P,B,W):null;case R:return fe=B._init,B=fe(B._payload),q(U,P,B,W)}if(ot(B)||j(B))return fe!==null?null:X(U,P,B,W,null);if(typeof B.then=="function")return q(U,P,gc(B),W);if(B.$$typeof===Z)return q(U,P,ic(U,B),W);yc(U,B)}return null}function F(U,P,B,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,T(P,U,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return U=U.get(W.key===null?B:W.key)||null,C(P,U,W,fe);case V:return U=U.get(W.key===null?B:W.key)||null,H(P,U,W,fe);case R:var De=W._init;return W=De(W._payload),F(U,P,B,W,fe)}if(ot(W)||j(W))return U=U.get(B)||null,X(P,U,W,fe,null);if(typeof W.then=="function")return F(U,P,B,gc(W),fe);if(W.$$typeof===Z)return F(U,P,B,ic(P,W),fe);yc(P,W)}return null}function Te(U,P,B,W){for(var fe=null,De=null,me=P,ve=P=0,kt=null;me!==null&&ve<B.length;ve++){me.index>ve?(kt=me,me=null):kt=me.sibling;var je=q(U,me,B[ve],W);if(je===null){me===null&&(me=kt);break}t&&me&&je.alternate===null&&r(U,me),P=d(je,P,ve),De===null?fe=je:De.sibling=je,De=je,me=kt}if(ve===B.length)return a(U,me),Be&&Os(U,ve),fe;if(me===null){for(;ve<B.length;ve++)me=J(U,B[ve],W),me!==null&&(P=d(me,P,ve),De===null?fe=me:De.sibling=me,De=me);return Be&&Os(U,ve),fe}for(me=l(me);ve<B.length;ve++)kt=F(me,U,ve,B[ve],W),kt!==null&&(t&&kt.alternate!==null&&me.delete(kt.key===null?ve:kt.key),P=d(kt,P,ve),De===null?fe=kt:De.sibling=kt,De=kt);return t&&me.forEach(function(Pr){return r(U,Pr)}),Be&&Os(U,ve),fe}function _e(U,P,B,W){if(B==null)throw Error(s(151));for(var fe=null,De=null,me=P,ve=P=0,kt=null,je=B.next();me!==null&&!je.done;ve++,je=B.next()){me.index>ve?(kt=me,me=null):kt=me.sibling;var Pr=q(U,me,je.value,W);if(Pr===null){me===null&&(me=kt);break}t&&me&&Pr.alternate===null&&r(U,me),P=d(Pr,P,ve),De===null?fe=Pr:De.sibling=Pr,De=Pr,me=kt}if(je.done)return a(U,me),Be&&Os(U,ve),fe;if(me===null){for(;!je.done;ve++,je=B.next())je=J(U,je.value,W),je!==null&&(P=d(je,P,ve),De===null?fe=je:De.sibling=je,De=je);return Be&&Os(U,ve),fe}for(me=l(me);!je.done;ve++,je=B.next())je=F(me,U,ve,je.value,W),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?ve:je.key),P=d(je,P,ve),De===null?fe=je:De.sibling=je,De=je);return t&&me.forEach(function(hw){return r(U,hw)}),Be&&Os(U,ve),fe}function Xe(U,P,B,W){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var fe=B.key;P!==null;){if(P.key===fe){if(fe=B.type,fe===M){if(P.tag===7){a(U,P.sibling),W=h(P,B.props.children),W.return=U,U=W;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ly(fe)===P.type){a(U,P.sibling),W=h(P,B.props),dl(W,B),W.return=U,U=W;break e}a(U,P);break}else r(U,P);P=P.sibling}B.type===M?(W=Ds(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=Ju(B.type,B.key,B.props,null,U.mode,W),dl(W,B),W.return=U,U=W)}return v(U);case V:e:{for(fe=B.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(U,P.sibling),W=h(P,B.children||[]),W.return=U,U=W;break e}else{a(U,P);break}else r(U,P);P=P.sibling}W=Mf(B,U.mode,W),W.return=U,U=W}return v(U);case R:return fe=B._init,B=fe(B._payload),Xe(U,P,B,W)}if(ot(B))return Te(U,P,B,W);if(j(B)){if(fe=j(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),_e(U,P,B,W)}if(typeof B.then=="function")return Xe(U,P,gc(B),W);if(B.$$typeof===Z)return Xe(U,P,ic(U,B),W);yc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(U,P.sibling),W=h(P,B),W.return=U,U=W):(a(U,P),W=Of(B,U.mode,W),W.return=U,U=W),v(U)):a(U,P)}return function(U,P,B,W){try{fl=0;var fe=Xe(U,P,B,W);return Va=null,fe}catch(me){if(me===il||me===sc)throw me;var De=pn(29,me,null,U.mode);return De.lanes=W,De.return=U,De}finally{}}}var ka=jy(!0),zy=jy(!1),Pn=ne(null),li=null;function vr(t){var r=t.alternate;ae(It,It.current&1),ae(Pn,t),li===null&&(r===null||xa.current!==null||r.memoizedState!==null)&&(li=t)}function By(t){if(t.tag===22){if(ae(It,It.current),ae(Pn,t),li===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(li=t)}}else Er()}function Er(){ae(It,It.current),ae(Pn,Pn.current)}function Hi(t){ue(Pn),li===t&&(li=null),ue(It)}var It=ne(0);function _c(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||tm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function fd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=vn(),h=gr(l);h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(En(r,t,l),sl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=vn(),h=gr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(En(r,t,l),sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=vn(),l=gr(a);l.tag=2,r!=null&&(l.callback=r),r=yr(t,l,a),r!==null&&(En(r,t,a),sl(r,t,a))}};function Hy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function qy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&dd.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fy(t){vc(t)}function Gy(t){console.error(t)}function Ky(t){vc(t)}function Ec(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,r,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,r)},a}function $y(t){return t=gr(t),t.tag=3,t}function Yy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Qy(r,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function hA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&el(r,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return li===null?Ld():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Ld(),!1}if(Be)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==kf&&(t=Error(s(422),{cause:l}),Jo(Dn(t,a)))):(l!==kf&&(r=Error(s(423),{cause:l}),Jo(Dn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=md(t.stateNode,l,h),Kf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),El===null?El=[d]:El.push(d),ct!==4&&(ct=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Kf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Yy(h,t,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var Xy=Error(s(461)),Pt=!1;function Bt(t,r,a,l){r.child=t===null?zy(r,null,a,l):ka(r,t.child,a,l)}function Wy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ks(r),l=Wf(t,r,a,v,d,h),T=Zf(),t!==null&&!Pt?(Jf(t,r,h),qi(t,r,h)):(Be&&T&&Pf(r),r.flags|=1,Bt(t,r,l,h),r.child)}function Zy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Jy(t,r,d,l,h)):(t=Ju(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!bd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=ki(d,l),t.ref=r.ref,t.return=r,r.child=t}function Jy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,bd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return pd(t,r,a,l,h)}function e_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return t_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):$f(),By(r);else return r.lanes=r.childLanes=536870912,t_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(r,d.cachePool),Jg(r,d),Er(),r.memoizedState=null):(t!==null&&rc(r,null),$f(),Er());return Bt(t,r,h,a),r.child}function t_(t,r,a,l){var h=Hf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&rc(r,null),$f(),By(r),t!==null&&el(t,r,l,!0),null}function Tc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function pd(t,r,a,l,h){return ks(r),a=Wf(t,r,a,l,void 0,h),l=Zf(),t!==null&&!Pt?(Jf(t,r,h),qi(t,r,h)):(Be&&l&&Pf(r),r.flags|=1,Bt(t,r,a,h),r.child)}function n_(t,r,a,l,h,d){return ks(r),r.updateQueue=null,a=ty(r,l,a,h),ey(t),l=Zf(),t!==null&&!Pt?(Jf(t,r,d),qi(t,r,d)):(Be&&l&&Pf(r),r.flags|=1,Bt(t,r,a,d),r.child)}function i_(t,r,a,l,h){if(ks(r),r.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Ff(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Ra,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&dd.enqueueReplaceState(d,d.state,null),ol(r,l,d,h),al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=js(a,T);d.props=C;var H=d.context,X=a.contextType;v=Ra,typeof X=="object"&&X!==null&&(v=$t(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&qy(r,d,l,v),pr=!1;var q=r.memoizedState;d.state=q,ol(r,l,d,h),al(),H=r.memoizedState,T||q!==H||pr?(typeof J=="function"&&(fd(r,a,J,l),H=r.memoizedState),(C=pr||Hy(r,a,C,l,q,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Gf(t,r),v=r.memoizedProps,X=js(a,v),d.props=X,J=r.pendingProps,q=d.context,H=a.contextType,C=Ra,typeof H=="object"&&H!==null&&(C=$t(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==C)&&qy(r,d,l,C),pr=!1,q=r.memoizedState,d.state=q,ol(r,l,d,h),al();var F=r.memoizedState;v!==J||q!==F||pr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof T=="function"&&(fd(r,a,T,l),F=r.memoizedState),(X=pr||Hy(r,a,X,l,q,F,C)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Tc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ka(r,t.child,null,h),r.child=ka(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function r_(t,r,a,l){return Zo(),r.flags|=256,Bt(t,r,a,l),r.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Gg()}}function _d(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Vn),t}function s_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?vr(r):Er(),Be){var T=ut,C;if(C=T){e:{for(C=T,T=oi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Hn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},C=pn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,rn=r,ut=null,C=!0):C=!1}C||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return tm(T)?r.lanes=32:r.lanes=536870912,null;Hi(r)}return T=l.children,l=l.fallback,h?(Er(),h=r.mode,T=bc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=yd(a),h.childLanes=_d(t,v,a),r.memoizedState=gd,l):(vr(r),vd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(vr(r),r.flags&=-257,r=Ed(t,r,a)):r.memoizedState!==null?(Er(),r.child=t.child,r.flags|=128,r=null):(Er(),h=l.fallback,T=r.mode,l=bc({mode:"visible",children:l.children},T),h=Ds(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ka(r,t.child,null,a),l=r.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),r.memoizedState=gd,r=h);else if(vr(r),tm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,Jo({value:l,source:null,stack:null}),r=Ed(t,r,a)}else if(Pt||el(t,r,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:or(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Sa(t,l),En(v,t,l),Xy;T.data==="$?"||Ld(),r=Ed(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ut=Hn(T.nextSibling),rn=r,Be=!0,Ms=null,oi=!1,t!==null&&(On[Mn++]=Ui,On[Mn++]=Li,On[Mn++]=xs,Ui=t.id,Li=t.overflow,xs=r),r=vd(r,l.children),r.flags|=4096);return r}return h?(Er(),h=l.fallback,T=r.mode,C=t.child,H=C.sibling,l=ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?h=ki(H,h):(h=Ds(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=yd(a):(C=T.cachePool,C!==null?(H=Rt._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Gg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=_d(t,v,a),r.memoizedState=gd,l):(vr(r),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function vd(t,r){return r=bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function bc(t,r){return t=pn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ed(t,r,a){return ka(r,t.child,null,a),t=vd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function a_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Lf(t.return,r,a)}function Td(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function o_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,a,r);else if(t.tag===19)a_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(It,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Td(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(r,!0,a,null,d);break;case"together":Td(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Sr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(el(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ki(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function bd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function fA(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),mr(r,Rt,t.memoizedState.cache),Zo();break;case 27:case 5:ar(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:mr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?s_(t,r,a):(vr(r),t=qi(t,r,a),t!==null?t.sibling:null);vr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(el(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return o_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,e_(t,r,a);case 24:mr(r,Rt,t.memoizedState.cache)}return qi(t,r,a)}function l_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!bd(t,a)&&(r.flags&128)===0)return Pt=!1,fA(t,r,a);Pt=(t.flags&131072)!==0}else Pt=!1,Be&&(r.flags&1048576)!==0&&Lg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")xf(l)?(t=js(l,t),r.tag=1,r=i_(null,r,l,t,a)):(r.tag=0,r=pd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ie){r.tag=11,r=Wy(null,r,l,t,a);break e}else if(h===N){r.tag=14,r=Zy(null,r,l,t,a);break e}}throw r=Lt(l)||l,Error(s(306,r,""))}}return r;case 0:return pd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),i_(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Gf(t,r),ol(r,l,null,a);var v=r.memoizedState;if(l=v.cache,mr(r,Rt,l),l!==d.cache&&jf(r,[Rt],a,!0),al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=r_(t,r,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),r),Jo(h),r=r_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Hn(t.firstChild),rn=r,Be=!0,Ms=null,oi=!0,a=zy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===h){r=qi(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return Tc(t,r),t===null?(a=fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=kc(Ae.current).createElement(a),l[At]=r,l[yt]=t,qt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ar(r),t===null&&Be&&(l=r.stateNode=uv(r.type,r.pendingProps,Ae.current),rn=r,oi=!0,h=ut,Nr(r.type)?(nm=h,ut=Hn(l.firstChild)):ut=h),Bt(t,r,r.pendingProps.children,a),Tc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=zA(l,r.type,r.pendingProps,oi),l!==null?(r.stateNode=l,rn=r,ut=Hn(l.firstChild),oi=!1,h=!0):h=!1),h||Ps(r)),ar(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Zd(h,d)?l=null:v!==null&&Zd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Wf(t,r,rA,null,null,a),Nl._currentValue=h),Tc(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=BA(a,r.pendingProps,oi),a!==null?(r.stateNode=a,rn=r,ut=null,t=!0):t=!1),t||Ps(r)),null;case 13:return s_(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ka(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return Wy(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,mr(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ks(r),h=$t(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return Zy(t,r,r.type,r.pendingProps,a);case 15:return Jy(t,r,r.type,r.pendingProps,a);case 19:return o_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ki(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return e_(t,r,a);case 24:return ks(r),l=$t(Rt),t===null?(h=Hf(),h===null&&(h=Je,d=zf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Ff(r),mr(r,Rt,h)):((t.lanes&a)!==0&&(Gf(t,r),ol(r,null,null,a),al()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mr(r,Rt,l)):(l=d.cache,mr(r,Rt,l),l!==h.cache&&jf(r,[Rt],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(t){t.flags|=4}function u_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(r)){if(r=Pn.current,r!==null&&((Ue&4194048)===Ue?li!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==li))throw rl=qf,Kg;t.flags|=8192}}function Ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xo():536870912,t.lanes|=r,za|=r)}function ml(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function dA(t,r,a){var l=r.pendingProps;switch(Vf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zi(Rt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wo(r)?Fi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Bg())),st(r),null;case 26:return a=r.memoizedState,t===null?(Fi(r),a!==null?(st(r),u_(r,a)):(st(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fi(r),st(r),u_(r,a)):(st(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fi(r),st(r),r.flags&=-16777217),null;case 27:Ai(r),a=Ae.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=ye.current,Wo(r)?jg(r):(t=uv(h,l,a),r.stateNode=t,Fi(r))}return st(r),null;case 5:if(Ai(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=ye.current,Wo(r))jg(r);else{switch(h=kc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,Wo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||Ps(r)}else t=kc(t).createTextNode(l),t[At]=r,r.stateNode=t}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=r}else Zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),st(r),null;case 4:return Yn(),t===null&&Qd(r.stateNode.containerInfo),st(r),null;case 10:return zi(r.type),st(r),null;case 19:if(ue(It),h=r.memoizedState,h===null)return st(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ml(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=_c(t),d!==null){for(r.flags|=128,ml(h,!1),t=d.updateQueue,r.updateQueue=t,Ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ug(a,t),a=a.sibling;return ae(It,It.current&1|2),r.child}t=t.sibling}h.tail!==null&&wn()>Rc&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304)}else{if(!l)if(t=_c(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ac(r,t),ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(r),null}else 2*wn()-h.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,t=It.current,ae(It,l?t&1|2:t&1),r):(st(r),null);case 22:case 23:return Hi(r),Yf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),zi(Rt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function mA(t,r){switch(Vf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return zi(Rt),Yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ai(r),null;case 13:if(Hi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(It),null;case 4:return Yn(),null;case 10:return zi(r.type),null;case 22:case 23:return Hi(r),Yf(),t!==null&&ue(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return zi(Rt),null;case 25:return null;default:return null}}function c_(t,r){switch(Vf(r),r.tag){case 3:zi(Rt),Yn();break;case 26:case 27:case 5:Ai(r);break;case 4:Yn();break;case 13:Hi(r);break;case 19:ue(It);break;case 10:zi(r.type);break;case 22:case 23:Hi(r),Yf(),t!==null&&ue(Us);break;case 24:zi(Rt)}}function pl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function Tr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a,H=T;try{H()}catch(X){We(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function h_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Zg(r,a)}catch(l){We(t,t.return,l)}}}function f_(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function ui(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function d_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Ad(t,r,a){try{var l=t.stateNode;VA(l,t.type,a,r),l[yt]=r}catch(h){We(t,t.return,h)}}function m_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vc));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Sd(t,r,a),t=t.sibling;t!==null;)Sd(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function p_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[At]=t,r[yt]=a}catch(d){We(t,t.return,d)}}var Gi=!1,pt=!1,Rd=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function pA(t,r){if(t=t.containerInfo,Xd=Hc,t=Ig(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,H=0,X=0,J=t,q=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===a&&++H===h&&(T=v),q===d&&++X===l&&(C=v),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:t,selectionRange:a},Hc=!1,Vt=r;Vt!==null;)if(r=Vt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Vt=t;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Vt=t;break}Vt=r.return}}function y_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&pl(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&h_(a),l&512&&gl(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Zg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&p_(a);case 26:case 5:br(t,a),r===null&&l&4&&d_(a),l&512&&gl(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&E_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wA.bind(null,a),HA(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){r=r!==null&&r.memoizedState!==null||pt,h=Gi;var d=pt;Gi=l,(pt=r)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):br(t,a),Gi=h,pt=d}break;case 30:break;default:br(t,a)}}function __(t){var r=t.alternate;r!==null&&(t.alternate=null,__(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&cr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,on=!1;function Ki(t,r,a){for(a=a.child;a!==null;)v_(t,r,a),a=a.sibling}function v_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:pt||ui(a,r),Ki(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||ui(a,r);var l=nt,h=on;Nr(a.type)&&(nt=a.stateNode,on=!1),Ki(t,r,a),Sl(a.stateNode),nt=l,on=h;break;case 5:pt||ui(a,r);case 6:if(l=nt,h=on,nt=null,Ki(t,r,a),nt=l,on=h,nt!==null)if(on)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(on?(t=nt,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):ov(nt,a.stateNode));break;case 4:l=nt,h=on,nt=a.stateNode.containerInfo,on=!0,Ki(t,r,a),nt=l,on=h;break;case 0:case 11:case 14:case 15:pt||Tr(2,a,r),pt||Tr(4,a,r),Ki(t,r,a);break;case 1:pt||(ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&f_(a,r,l)),Ki(t,r,a);break;case 21:Ki(t,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Ki(t,r,a),pt=l;break;default:Ki(t,r,a)}}function E_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){We(r,r.return,a)}}function gA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new g_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new g_),r;default:throw Error(s(435,t.tag))}}function Id(t,r){var a=gA(t);r.forEach(function(l){var h=SA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function gn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){nt=T.stateNode,on=!1;break e}break;case 5:nt=T.stateNode,on=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(nt===null)throw Error(s(160));v_(d,v,h),nt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)T_(r,t),r=r.sibling}var Bn=null;function T_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(r,t),yn(t),l&4&&(Tr(3,t,t.return),pl(3,t),Tr(5,t,t.return));break;case 1:gn(r,t),yn(t),l&512&&(pt||a===null||ui(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(gn(r,t),yn(t),l&512&&(pt||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[At]=t,dt(d),l=d;break e;case"link":var v=pv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=pv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,dt(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(r,t),yn(t),l&512&&(pt||a===null||ui(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,t),yn(t),l&512&&(pt||a===null||ui(a,a.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Rd=!0);break;case 6:if(gn(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(jc=null,h=Bn,Bn=Uc(r.containerInfo),gn(r,t),Bn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(F){We(t,t.return,F)}Rd&&(Rd=!1,b_(t));break;case 4:l=Bn,Bn=Uc(t.stateNode.containerInfo),gn(r,t),yn(t),Bn=l;break;case 12:gn(r,t),yn(t);break;case 13:gn(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Md=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Id(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Gi,X=pt;if(Gi=H||h,pt=X||C,gn(r,t),pt=X,Gi=H,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Gi||pt||zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){We(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){We(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Id(t,a))));break;case 19:gn(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Id(t,l)));break;case 30:break;case 21:break;default:gn(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(m_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);wc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=wd(t);wc(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,H=wd(t);Sd(t,H,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function b_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;b_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function br(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)y_(t,r.alternate,r),r=r.sibling}function zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),zs(r);break;case 1:ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&f_(r,r.return,a),zs(r);break;case 27:Sl(r.stateNode);case 26:case 5:ui(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}t=t.sibling}}function Ar(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),pl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Wg(C[h],T)}catch(H){We(l,l.return,H)}}a&&v&64&&h_(d),gl(d,d.return);break;case 27:p_(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&d_(d),gl(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&E_(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),gl(d,d.return);break;case 30:break;default:Ar(h,d,a)}r=r.sibling}}function Cd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Nd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t))}function ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(t,r,a,l),r=r.sibling}function A_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ci(t,r,a,l),h&2048&&pl(9,r);break;case 1:ci(t,r,a,l);break;case 3:ci(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ci(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else ci(t,r,a,l);break;case 13:ci(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ci(t,r,a,l):yl(t,r):d._visibility&2?ci(t,r,a,l):(d._visibility|=2,Ua(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Cd(v,r);break;case 24:ci(t,r,a,l),h&2048&&Nd(r.alternate,r);break;default:ci(t,r,a,l)}}function Ua(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,C=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Ua(d,v,T,C,h),pl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ua(d,v,T,C,h):yl(d,v):(X._visibility|=2,Ua(d,v,T,C,h)),h&&H&2048&&Cd(v.alternate,v);break;case 24:Ua(d,v,T,C,h),h&&H&2048&&Nd(v.alternate,v);break;default:Ua(d,v,T,C,h)}r=r.sibling}}function yl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:yl(a,l),h&2048&&Nd(l.alternate,l);break;default:yl(a,l)}r=r.sibling}}var _l=8192;function La(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)w_(t),t=t.sibling}function w_(t){switch(t.tag){case 26:La(t),t.flags&_l&&t.memoizedState!==null&&tw(Bn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var r=Bn;Bn=Uc(t.stateNode.containerInfo),La(t),Bn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_l,_l=16777216,La(t),_l=r):La(t));break;default:La(t)}}function S_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,I_(l,t)}S_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Sc(t)):vl(t);break;default:vl(t)}}function Sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,I_(l,t)}S_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(r));break;default:Sc(r)}t=t.sibling}}function I_(t,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Tr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(__(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var yA={getCacheForType:function(t){var r=$t(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},_A=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,xe=null,Ue=0,Ke=0,_n=null,wr=!1,ja=!1,Dd=!1,Qi=0,ct=0,Sr=0,Bs=0,xd=0,Vn=0,za=0,El=null,ln=null,Od=!1,Md=0,Rc=1/0,Ic=null,Rr=null,Ht=0,Ir=null,Ba=null,Ha=0,Pd=0,Vd=null,C_=null,Tl=0,kd=null;function vn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var t=Na;return t!==0?t:qd()}return lr()}function N_(){Vn===0&&(Vn=(Ue&536870912)===0||Be?Do():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),Vn}function En(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Cr(t,Ue,Vn,!1)),Si(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Bs|=a),ct===4&&Cr(t,Ue,Vn,!1)),hi(t))}function D_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ds(t,r),h=l?TA(t,r):jd(t,r,!0),d=l;do{if(h===0){ja&&!l&&Cr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!vA(a)){h=jd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=El;var C=T.current.memoizedState.isDehydrated;if(C&&(qa(T,v).flags|=256),v=jd(T,v,!1),v!==2){if(Dd&&!C){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Cr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cr(l,r,Vn,!wr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Md+300-wn(),10<h)){if(Cr(l,r,Vn,!wr),aa(l,0,!0)!==0)break e;l.timeoutHandle=sv(x_.bind(null,l,a,ln,Ic,Od,r,Vn,Bs,za,wr,d,2,-0,0),h);break e}x_(l,a,ln,Ic,Od,r,Vn,Bs,za,wr,d,0,-0,0)}}break}while(!0);hi(t)}function x_(t,r,a,l,h,d,v,T,C,H,X,J,q,F){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:ew},w_(r),J=nw(),J!==null)){t.cancelPendingCommit=J(L_.bind(null,t,r,d,a,l,h,v,T,C,X,1,q,F)),Cr(t,d,v,!H);return}L_(t,r,d,a,l,h,v,T,C)}function vA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(t,r,a,l){r&=~xd,r&=~Bs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(t,a,r)}function Cc(){return(Ge&6)===0?(bl(0),!1):!0}function Ud(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,ji=Vs=null,ed(t),Va=null,fl=0,t=xe;for(;t!==null;)c_(t.alternate,t),t=t.return;xe=null}}function qa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ud(),Je=t,xe=a=ki(t.current,null),Ue=r,Ke=0,_n=null,wr=!1,ja=ds(t,r),Dd=!1,za=Vn=xd=Bs=Sr=ct=0,ln=El=null,Od=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Qt(l),d=1<<h;r|=t[h],l&=~d}return Qi=r,Xu(),a}function O_(t,r){Ie=null,Y.H=pc,r===il||r===sc?(r=Yg(),Ke=3):r===Kg?(r=Yg(),Ke=4):Ke=r===Xy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,xe===null&&(ct=1,Ec(t,Dn(r,t.current)))}function M_(){var t=Y.H;return Y.H=pc,t===null?pc:t}function P_(){var t=Y.A;return Y.A=yA,t}function Ld(){ct=4,wr||(Ue&4194048)!==Ue&&Pn.current!==null||(ja=!0),(Sr&134217727)===0&&(Bs&134217727)===0||Je===null||Cr(Je,Ue,Vn,!1)}function jd(t,r,a){var l=Ge;Ge|=2;var h=M_(),d=P_();(Je!==t||Ue!==r)&&(Ic=null,qa(t,r)),r=!1;var v=ct;e:do try{if(Ke!==0&&xe!==null){var T=xe,C=_n;switch(Ke){case 8:Ud(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var H=Ke;if(Ke=0,_n=null,Fa(t,T,C,H),a&&ja){v=0;break e}break;default:H=Ke,Ke=0,_n=null,Fa(t,T,C,H)}}EA(),v=ct;break}catch(X){O_(t,X)}while(!0);return r&&t.shellSuspendCounter++,ji=Vs=null,Ge=l,Y.H=h,Y.A=d,xe===null&&(Je=null,Ue=0,Xu()),v}function EA(){for(;xe!==null;)V_(xe)}function TA(t,r){var a=Ge;Ge|=2;var l=M_(),h=P_();Je!==t||Ue!==r?(Ic=null,Rc=wn()+500,qa(t,r)):ja=ds(t,r);e:do try{if(Ke!==0&&xe!==null){r=xe;var d=_n;t:switch(Ke){case 1:Ke=0,_n=null,Fa(t,r,d,1);break;case 2:case 9:if(Qg(d)){Ke=0,_n=null,k_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),hi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Qg(d)?(Ke=0,_n=null,k_(r)):(Ke=0,_n=null,Fa(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||yv(v)){Ke=0,_n=null;var C=T.sibling;if(C!==null)xe=C;else{var H=T.return;H!==null?(xe=H,Nc(H)):xe=null}break t}}Ke=0,_n=null,Fa(t,r,d,5);break;case 6:Ke=0,_n=null,Fa(t,r,d,6);break;case 8:Ud(),ct=6;break e;default:throw Error(s(462))}}bA();break}catch(X){O_(t,X)}while(!0);return ji=Vs=null,Y.H=l,Y.A=h,Ge=a,xe!==null?0:(Je=null,Ue=0,Xu(),ct)}function bA(){for(;xe!==null&&!Ro();)V_(xe)}function V_(t){var r=l_(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,r===null?Nc(t):xe=r}function k_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=n_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=n_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:ed(r);default:c_(a,r),r=xe=Ug(r,Qi),r=l_(a,r,Qi)}t.memoizedProps=t.pendingProps,r===null?Nc(t):xe=r}function Fa(t,r,a,l){ji=Vs=null,ed(r),Va=null,fl=0;var h=r.return;try{if(hA(t,h,r,a,Ue)){ct=1,Ec(t,Dn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ct=1,Ec(t,Dn(a,t.current)),xe=null;return}r.flags&32768?(Be||l===1?t=!0:ja||(Ue&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(r,t)):Nc(r)}function Nc(t){var r=t;do{if((r.flags&32768)!==0){U_(r,wr);return}t=r.return;var a=dA(r.alternate,r,Qi);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ct===0&&(ct=5)}function U_(t,r){do{var a=mA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function L_(t,r,a,l,h,d,v,T,C){t.cancelPendingCommit=null;do Dc();while(Ht!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Nf,Oo(t,a,d,v,T,C),t===Je&&(xe=Je=null,Ue=0),Ba=r,Ir=t,Ha=a,Pd=d,Vd=h,C_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RA(us,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,v=Ge,Ge|=4;try{pA(t,r,a)}finally{Ge=v,le.p=h,Y.T=l}}Ht=1,j_(),z_(),B_()}}function j_(){if(Ht===1){Ht=0;var t=Ir,r=Ba,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{T_(r,t);var d=Wd,v=Ig(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(C!==null&&wf(T)){var H=C.start,X=C.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),Te=T.textContent.length,_e=Math.min(C.start,Te),Xe=C.end===void 0?_e:Math.min(C.end,Te);!F.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var U=Sg(T,_e),P=Sg(T,Xe);if(U&&P&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==P.node||F.focusOffset!==P.offset)){var B=J.createRange();B.setStart(U.node,U.offset),F.removeAllRanges(),_e>Xe?(F.addRange(B),F.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),F.addRange(B))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hc=!!Xd,Wd=Xd=null}finally{Ge=h,le.p=l,Y.T=a}}t.current=r,Ht=2}}function z_(){if(Ht===2){Ht=0;var t=Ir,r=Ba,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ge;Ge|=4;try{y_(t,r.alternate,r)}finally{Ge=h,le.p=l,Y.T=a}}Ht=3}}function B_(){if(Ht===4||Ht===3){Ht=0,Su();var t=Ir,r=Ba,a=Ha,l=C_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Ba=Ir=null,H_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),oa(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,le.p=h}}(Ha&3)!==0&&Dc(),hi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===kd?Tl++:(Tl=0,kd=t):Tl=0,bl(0)}}function H_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,tl(r)))}function Dc(t){return j_(),z_(),B_(),q_()}function q_(){if(Ht!==5)return!1;var t=Ir,r=Pd;Pd=0;var a=oa(Ha),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=Vd,Vd=null;var d=Ir,v=Ha;if(Ht=0,Ba=Ir=null,Ha=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,R_(d.current),A_(d,d.current,v,a),Ge=T,bl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{le.p=h,Y.T=l,H_(t,r)}}function F_(t,r,a){r=Dn(a,r),r=md(t.stateNode,r,2),t=yr(t,r,2),t!==null&&(Si(t,2),hi(t))}function We(t,r,a){if(t.tag===3)F_(t,t,a);else for(;r!==null;){if(r.tag===3){F_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=Dn(a,t),a=$y(2),l=yr(r,a,2),l!==null&&(Yy(a,l,r,t),Si(l,2),hi(l));break}}r=r.return}}function zd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _A;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Dd=!0,h.add(a),t=AA.bind(null,t,r,a),r.then(t,t))}function AA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>wn()-Md?(Ge&2)===0&&qa(t,0):xd|=a,za===Ue&&(za=0)),hi(t)}function G_(t,r){r===0&&(r=xo()),t=Sa(t,r),t!==null&&(Si(t,r),hi(t))}function wA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),G_(t,a)}function SA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),G_(t,a)}function RA(t,r){return os(t,r)}var xc=null,Ga=null,Bd=!1,Oc=!1,Hd=!1,Hs=0;function hi(t){t!==Ga&&t.next===null&&(Ga===null?xc=Ga=t:Ga=Ga.next=t),Oc=!0,Bd||(Bd=!0,CA())}function bl(t,r){if(!Hd&&Oc){Hd=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=Ue,d=aa(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Hd=!1}}function IA(){K_()}function K_(){Oc=Bd=!1;var t=0;Hs!==0&&(kA()&&(t=Hs),Hs=0);for(var r=wn(),a=null,l=xc;l!==null;){var h=l.next,d=Q_(l,r);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}bl(t)}function Q_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Qt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=No(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Ue,a=aa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ls(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=us;break;case 268435456:a=sa;break;default:a=us}return l=$_.bind(null,t),a=os(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Ue;return l=aa(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(D_(t,l,r),Q_(t,wn()),t.callbackNode!=null&&t.callbackNode===a?$_.bind(null,t):null)}function Y_(t,r){if(Dc())return null;D_(t,r,!0)}function CA(){LA(function(){(Ge&6)!==0?os(Io,IA):K_()})}function qd(){return Hs===0&&(Hs=Do()),Hs}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function W_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function NA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=X_((h[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?X_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ma("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=v?W_(h,v):new FormData(h);ud(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?W_(h,v):new FormData(h),ud(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Fd=0;Fd<Cf.length;Fd++){var Gd=Cf[Fd],DA=Gd.toLowerCase(),xA=Gd[0].toUpperCase()+Gd.slice(1);zn(DA,"on"+xA)}zn(Dg,"onAnimationEnd"),zn(xg,"onAnimationIteration"),zn(Og,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn($b,"onTransitionRun"),zn(Yb,"onTransitionStart"),zn(Xb,"onTransitionCancel"),zn(Mg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Z_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){vc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,H=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){vc(X)}h.currentTarget=null,d=C}}}}function Oe(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(J_(r,t,2,!1),a.add(l))}function Kd(t,r,a){var l=0;r&&(l|=4),J_(a,t,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Mc]){t[Mc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(OA.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Kd("selectionchange",!1,r))}}function J_(t,r,a,l){switch(Av(r)){case 2:var h=sw;break;case 8:h=aw;break;default:h=om}a=h.bind(null,r,a,t),h=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function $d(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ri(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Vu(function(){var H=d,X=In(a),J=[];e:{var q=Pg.get(t);if(q!==void 0){var F=ma,Te=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":F=Ea;break;case"focusin":Te="focus",F=ya;break;case"focusout":Te="blur",F=ya;break;case"beforeblur":case"afterblur":F=ya;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=qu;break;case Dg:case xg:case Og:F=_a;break;case Mg:F=Gu;break;case"scroll":case"scrollend":F=ku;break;case"wheel":F=Ta;break;case"copy":case"cut":case"paste":F=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Qo;break;case"toggle":case"beforetoggle":F=Qu}var _e=(r&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),U=_e?q!==null?q+"Capture":null:q;_e=[];for(var P=H,B;P!==null;){var W=P;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Ts(P,U),W!=null&&_e.push(wl(P,W,B))),Xe)break;P=P.return}0<_e.length&&(q=new F(q,Te,null,a,X),J.push({event:q,listeners:_e}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Di&&(Te=a.relatedTarget||a.fromElement)&&(Ri(Te)||Te[Sn]))break e;if((F||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=H,Te=Te?Ri(Te):null,Te!==null&&(Xe=u(Te),_e=Te.tag,Te!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=H),F!==Te)){if(_e=Nn,W="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Qo,W="onPointerLeave",U="onPointerEnter",P="pointer"),Xe=F==null?q:Zn(F),B=Te==null?q:Zn(Te),q=new _e(W,P+"leave",F,a,X),q.target=Xe,q.relatedTarget=B,W=null,Ri(X)===H&&(_e=new _e(U,P+"enter",Te,a,X),_e.target=B,_e.relatedTarget=Xe,W=_e),Xe=W,F&&Te)t:{for(_e=F,U=Te,P=0,B=_e;B;B=Ka(B))P++;for(B=0,W=U;W;W=Ka(W))B++;for(;0<P-B;)_e=Ka(_e),P--;for(;0<B-P;)U=Ka(U),B--;for(;P--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=Ka(_e),U=Ka(U)}_e=null}else _e=null;F!==null&&ev(J,q,F,_e,!1),Te!==null&&Xe!==null&&ev(J,Xe,Te,_e,!0)}}e:{if(q=H?Zn(H):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var fe=vg;else if(St(q))if(Eg)fe=Gb;else{fe=qb;var De=Hb}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&zo(H.elementType)&&(fe=vg):fe=Fb;if(fe&&(fe=fe(t,H))){Vi(J,fe,a,X);break e}De&&De(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&fr(q,"number",q.value)}switch(De=H?Zn(H):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(ba=De,Sf=H,Xo=null);break;case"focusout":Xo=Sf=ba=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Cg(J,a,X);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":Cg(J,a,X)}var me;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?Q(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(me=Ho()):(ti=X,dr="value"in ti?ti.value:ti.textContent,Ve=!0)),De=Pc(H,ve),0<De.length&&(ve=new Go(ve,t,null,a,X),J.push({event:ve,listeners:De}),me?ve.data=me:(me=oe(a),me!==null&&(ve.data=me)))),(me=y?wt(t,a):ke(t,a))&&(ve=Pc(H,"onBeforeInput"),0<ve.length&&(De=new Go("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:ve}),De.data=me)),NA(J,t,H,a,X)}Z_(J,r)})}function wl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Ts(t,r),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||H===null||(C=H,h?(H=Ts(a,d),H!=null&&v.unshift(wl(a,H,C))):h||(H=Ts(a,d),H!=null&&v.push(wl(a,H,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var MA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(MA,`
`).replace(PA,"")}function nv(t,r){return r=tv(r),tv(t)===r}function Vc(){}function Ye(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,a,l);break;case"style":jo(t,l,d);break;case"data":if(r!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),hr(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_f.get(a)||a,hr(t,a,l))}}function Yd(t,r,a,l,h,d){switch(a){case"style":jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hr(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,v,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ye(t,r,l,X,a,null)}}_s(t,d,T,C,H,v,h,!1),fa(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ni(t,!!l,r,!1):a!=null&&Ni(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,r,v,T,a,null)}vs(t,l,h,d),fa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Oe(Al[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,H,l,a,null)}return;default:if(zo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yd(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(t,r,T,l,a,null))}function VA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,H=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||Ye(t,r,F,null,l,J)}}for(var q in l){var F=l[q];if(J=a[q],l.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":H=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&Ye(t,r,q,F,l,J)}}dn(t,v,T,C,H,X,d,h);return;case"select":F=v=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Ye(t,r,h,d,l,C)}r=T,a=v,l=F,q!=null?Ni(t,!!a,q,!1):!!l!=!!a&&(r!=null?Ni(t,!!a,r,!0):Ni(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,r,v,h,l,d)}Qe(t,q,F);return;case"option":for(var Te in a)if(q=a[Te],a.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ye(t,r,Te,null,l,q)}for(C in l)if(q=l[C],F=a[C],l.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ye(t,r,C,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Ye(t,r,_e,null,l,q);for(H in l)if(q=l[H],F=a[H],l.hasOwnProperty(H)&&q!==F&&(q!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Ye(t,r,H,q,l,F)}return;default:if(zo(r)){for(var Xe in a)q=a[Xe],a.hasOwnProperty(Xe)&&q!==void 0&&!l.hasOwnProperty(Xe)&&Yd(t,r,Xe,void 0,l,q);for(X in l)q=l[X],F=a[X],!l.hasOwnProperty(X)||q===F||q===void 0&&F===void 0||Yd(t,r,X,q,l,F);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Ye(t,r,U,null,l,q);for(J in l)q=l[J],F=a[J],!l.hasOwnProperty(J)||q===F||q==null&&F==null||Ye(t,r,J,q,l,F)}var Xd=null,Wd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Zd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jd=null;function kA(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(jA)}:sv;function jA(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function ov(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Sl(v.documentElement),a&2&&Sl(v.body),a&4)for(a=v.head,Sl(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Ml(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function em(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function BA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function HA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var nm=null;function lv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function uv(t,r,a){switch(r=kc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);cr(t)}var kn=new Map,cv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=le.d;le.d={f:qA,r:FA,D:GA,C:KA,L:QA,m:$A,X:XA,S:YA,M:WA};function qA(){var t=$i.f(),r=Cc();return t||r}function FA(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?Dy(r):$i.r(t)}var Qa=typeof document>"u"?null:document;function hv(t,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var h=_t(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),dt(r),l.head.appendChild(r)))}}function GA(t){$i.D(t),hv("dns-prefetch",t,null)}function KA(t,r){$i.C(t,r),hv("preconnect",t,r)}function QA(t,r,a){$i.L(t,r,a);var l=Qa;if(l&&t&&r){var h='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(r){case"style":d=$a(t);break;case"script":d=Ya(t)}kn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),qt(r,"link",t),dt(r),l.head.appendChild(r)))}}function $A(t,r){$i.m(t,r);var a=Qa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!kn.has(d)&&(t=E({rel:"modulepreload",href:t},r),kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),qt(l,"link",t),dt(l),a.head.appendChild(l)}}}function YA(t,r,a){$i.S(t,r,a);var l=Qa;if(l&&t){var h=en(l).hoistableStyles,d=$a(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Rl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(d))&&im(t,a);var C=v=l.createElement("link");dt(C),qt(C,"link",t),C._p=new Promise(function(H,X){C.onload=H,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function XA(t,r){$i.X(t,r);var a=Qa;if(a&&t){var l=en(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0},r),(r=kn.get(h))&&rm(t,r),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WA(t,r){$i.M(t,r);var a=Qa;if(a&&t){var l=en(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=kn.get(h))&&rm(t,r),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,r,a,l){var h=(h=Ae.current)?Uc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$a(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||ZA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ya(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+_t(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function ZA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),t.head.appendChild(r))}function Ya(t){return'[src="'+_t(t)+'"]'}function Il(t){return"script[async]"+t}function mv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),qt(l,"style",h),Lc(l,a.precedence,t),r.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(Rl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=dv(a),(h=kn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",l),r.state.loading|=4,Lc(d,a.precedence,t),r.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Il(d)))?(r.instance=h,dt(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,t));return r.instance}function Lc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function pv(t,r,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function gv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function JA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function ew(){}function tw(t,r,a){if(Cl===null)throw Error(s(475));var l=Cl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(a.href),d=t.querySelector(Rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=dv(a),(h=kn.get(h))&&im(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function nw(){if(Cl===null)throw Error(s(475));var t=Cl;return t.stylesheets&&t.count===0&&sm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function sm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,r.forEach(iw,t),Bc=null,zc.call(t))}function iw(t,r){if(!(r.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function rw(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function _v(t,r,a,l,h,d,v,T,C,H,X,J){return t=new rw(t,r,a,v,T,C,H,J),r=1,d===!0&&(r|=24),d=pn(3,null,null,r),t.current=d,d.stateNode=t,r=zf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Ff(d),t}function vv(t){return t?(t=Ra,t):Ra}function Ev(t,r,a,l,h,d){h=vv(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,r),a!==null&&(En(a,t,r),sl(a,t,r))}function Tv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function am(t,r){Tv(t,r),(t=t.alternate)&&Tv(t,r)}function bv(t){if(t.tag===13){var r=Sa(t,67108864);r!==null&&En(r,t,67108864),am(t,67108864)}}var Hc=!0;function sw(t,r,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=2,om(t,r,a,l)}finally{le.p=d,Y.T=h}}function aw(t,r,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=8,om(t,r,a,l)}finally{le.p=d,Y.T=h}}function om(t,r,a,l){if(Hc){var h=lm(l);if(h===null)$d(t,r,l,qc,a),wv(t,l);else if(lw(h,t,r,a,l))l.stopPropagation();else if(wv(t,l),r&4&&-1<ow.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Qt(v);T.entanglements[1]|=C,v&=~C}hi(d),(Ge&6)===0&&(Rc=wn()+500,bl(0))}}break;case 13:T=Sa(d,2),T!==null&&En(T,d,2),Cc(),am(d,2)}if(d=lm(l),d===null&&$d(t,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $d(t,r,l,null,a)}}function lm(t){return t=In(t),um(t)}var qc=null;function um(t){if(qc=null,t=Ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return qc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ff()){case Io:return 2;case ra:return 8;case us:case df:return 32;case sa:return 268435456;default:return 32}default:return 32}}var cm=!1,Dr=null,xr=null,Or=null,Dl=new Map,xl=new Map,Mr=[],ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(t,r){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Wn(r),r!==null&&bv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function lw(t,r,a,l,h){switch(r){case"focusin":return Dr=Ol(Dr,t,r,a,l,h),!0;case"dragenter":return xr=Ol(xr,t,r,a,l,h),!0;case"mouseover":return Or=Ol(Or,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Ol(xl.get(d)||null,t,r,a,l,h)),!0}return!1}function Sv(t){var r=Ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Cu(t.priority,function(){if(a.tag===13){var l=vn();l=or(l);var h=Sa(a,l);h!==null&&En(h,a,l),am(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return r=Wn(a),r!==null&&bv(r),t.blockedOn=a,!1;r.shift()}return!0}function Rv(t,r,a){Fc(t)&&a.delete(r)}function uw(){cm=!1,Dr!==null&&Fc(Dr)&&(Dr=null),xr!==null&&Fc(xr)&&(xr=null),Or!==null&&Fc(Or)&&(Or=null),Dl.forEach(Rv),xl.forEach(Rv)}function Gc(t,r){t.blockedOn===r&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uw)))}var Kc=null;function Iv(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(r,3),r-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function r(C){return Gc(C,t)}Dr!==null&&Gc(Dr,t),xr!==null&&Gc(xr,t),Or!==null&&Gc(Or,t),Dl.forEach(r),xl.forEach(r);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||Iv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)T=v.formAction;else if(um(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Iv(a)}}}function hm(t){this._internalRoot=t}Qc.prototype.render=hm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();Ev(a,l,t,r,null,null)},Qc.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ev(t.current,2,null,t,null,null),Cc(),r[Sn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=lr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mr.length&&r!==0&&r<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&Sv(t)}};var Cv=e.version;if(Cv!=="19.1.0")throw Error(s(527,Cv,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var cw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{lt=$c.inject(cw),Fe=$c}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Fy,d=Gy,v=Ky,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=_v(t,1,!1,null,null,a,l,h,d,v,T,null),t[Sn]=r.current,Qd(t),new hm(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Fy,v=Gy,T=Ky,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=_v(t,1,!0,r,a??null,l,h,d,v,T,C,H),r.context=vv(null),a=r.current,l=vn(),l=or(l),h=gr(l),h.callback=null,yr(a,h,l),a=l,r.current.lanes=a,Si(r,a),hi(r),t[Sn]=r.current,Qd(t),new Qc(r)},Vl.version="19.1.0",Vl}var Lv;function Ew(){if(Lv)return mm.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=vw(),mm.exports}var Tw=Ew();const bw=PE(Tw);var kl={},jv;function Aw(){if(jv)return kl;jv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,V){const M=new u,$=S.length;if($<2)return M;const L=(V==null?void 0:V.decode)||E;let K=0;do{const re=S.indexOf("=",K);if(re===-1)break;const Z=S.indexOf(";",K),ie=Z===-1?$:Z;if(re>ie){K=S.lastIndexOf(";",re-1)+1;continue}const se=m(S,K,re),ce=p(S,re,se),N=S.slice(se,ce);if(M[N]===void 0){let R=m(S,re+1,ie),I=p(S,ie,R);const O=L(S.slice(R,I));M[N]=O}K=ie+1}while(K<$);return M}function m(S,V,M){do{const $=S.charCodeAt(V);if($!==32&&$!==9)return V}while(++V<M);return M}function p(S,V,M){for(;V>M;){const $=S.charCodeAt(--V);if($!==32&&$!==9)return V+1}return M}function g(S,V,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=$(V);if(!e.test(L))throw new TypeError(`argument val is invalid: ${V}`);let K=S+"="+L;if(!M)return K;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);K+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);K+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);K+="; Path="+M.path}if(M.expires){if(!w(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);K+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(K+="; HttpOnly"),M.secure&&(K+="; Secure"),M.partitioned&&(K+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return K}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return kl}Aw();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zv="popstate";function ww(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Pm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:tu(o)}return Rw(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function Bv(i,e){return{usr:i.state,key:i.key,idx:e}}function Pm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||Sw()}}function tu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Rw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let L=E(),K=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:K})}function S(L,K){m="PUSH";let re=Pm($.location,L,K);g=E()+1;let Z=Bv(re,g),ie=$.createHref(re);try{f.pushState(Z,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}u&&p&&p({action:m,location:$.location,delta:1})}function V(L,K){m="REPLACE";let re=Pm($.location,L,K);g=E();let Z=Bv(re,g),ie=$.createHref(re);f.replaceState(Z,"",ie),u&&p&&p({action:m,location:$.location,delta:0})}function M(L){let K=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof L=="string"?L:tu(L);return re=re.replace(/ $/,"%20"),it(K,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,K)}let $={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,w),p=L,()=>{o.removeEventListener(zv,w),p=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let K=M(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:V,go(L){return f.go(L)}};return $}function VE(i,e,n="/"){return Iw(i,e,n,!1)}function Iw(i,e,n,s){let o=typeof e=="string"?go(e):e,u=er(o.pathname||"/",n);if(u==null)return null;let f=kE(i);Cw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=jw(u);m=Uw(f[p],g,s)}return m}function kE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Vw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of UE(u.path))o(u,f,p)}),e}function UE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=UE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Cw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:kw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Nw=/^:[\w-]+$/,Dw=3,xw=2,Ow=1,Mw=10,Pw=-2,Hv=i=>i==="*";function Vw(i,e){let n=i.split("/"),s=n.length;return n.some(Hv)&&(s+=Pw),e&&(s+=xw),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(Nw.test(u)?Dw:u===""?Ow:Mw),s)}function kw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Uw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Zi([u,w.pathname]),pathnameBase:qw(Zi([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Zi([u,w.pathnameBase]))}return f}function _h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Lw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let M=m[S]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const V=m[S];return w&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Lw(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function zw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:n?n.startsWith("/")?n:Bw(n,e):e,search:Fw(s),hash:Gw(o)}}function Bw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(i){let e=Hw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fp(i,e,n,s=!1){let o;typeof i=="string"?o=go(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=zw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),qw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Gw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Kw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var Qw=["GET",...LE];new Set(Qw);var yo=G.createContext(null);yo.displayName="DataRouter";var Bh=G.createContext(null);Bh.displayName="DataRouterState";var jE=G.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var $w=G.createContext(new Map);$w.displayName="Fetchers";var Yw=G.createContext(null);Yw.displayName="Await";var $n=G.createContext(null);$n.displayName="Navigation";var hu=G.createContext(null);hu.displayName="Location";var Ti=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var dp=G.createContext(null);dp.displayName="RouteError";function Xw(i,{relative:e}={}){it(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext($n),{hash:o,pathname:u,search:f}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _o(){return G.useContext(hu)!=null}function ts(){return it(_o(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(hu).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(i){G.useContext($n).static||G.useLayoutEffect(i)}function vo(){let{isDataRoute:i}=G.useContext(Ti);return i?uS():Ww()}function Ww(){it(_o(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(yo),{basename:e,navigator:n}=G.useContext($n),{matches:s}=G.useContext(Ti),{pathname:o}=ts(),u=JSON.stringify(hp(s)),f=G.useRef(!1);return BE(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(Gn(f.current,zE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=fp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}G.createContext(null);function fu(i,{relative:e}={}){let{matches:n}=G.useContext(Ti),{pathname:s}=ts(),o=JSON.stringify(hp(n));return G.useMemo(()=>fp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Zw(i,e){return HE(i,e)}function HE(i,e,n,s){var re;it(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext($n),{matches:f}=G.useContext(Ti),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let Z=w&&w.path||"";qE(g,!w||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=ts(),V;if(e){let Z=typeof e=="string"?go(e):e;it(E==="/"||((re=Z.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),V=Z}else V=S;let M=V.pathname||"/",$=M;if(E!=="/"){let Z=E.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(Z.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:VE(i,{pathname:$});Gn(w||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Gn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=iS(L&&L.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Zi([E,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?E:Zi([E,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s);return e&&K?G.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},K):K}function Jw(){let i=lS(),e=Kw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var eS=G.createElement(Jw,null),tS=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Ti.Provider,{value:this.props.routeContext},G.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nS({routeContext:i,match:e,children:n}){let s=G.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ti.Provider,{value:i},n)}function iS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,S=!1,V=null,M=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||eS,f&&(m<0&&E===0?(qE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):m===E&&(S=!0,M=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),L=()=>{let K;return w?K=V:S?K=M:g.route.Component?K=G.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,G.createElement(nS,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(tS,{location:n.location,revalidation:n.revalidation,component:V,error:w,children:L(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):L()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(i){let e=G.useContext(yo);return it(e,mp(i)),e}function sS(i){let e=G.useContext(Bh);return it(e,mp(i)),e}function aS(i){let e=G.useContext(Ti);return it(e,mp(i)),e}function pp(i){let e=aS(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function oS(){return pp("useRouteId")}function lS(){var s;let i=G.useContext(dp),e=sS("useRouteError"),n=pp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function uS(){let{router:i}=rS("useNavigate"),e=pp("useNavigate"),n=G.useRef(!1);return BE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Gn(n.current,zE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var qv={};function qE(i,e,n){!e&&!qv[i]&&(qv[i]=!0,Gn(!1,n))}G.memo(cS);function cS({routes:i,future:e,state:n}){return HE(i,void 0,n,e)}function hS({to:i,replace:e,state:n,relative:s}){it(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext($n);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Ti),{pathname:f}=ts(),m=vo(),p=fp(i,hp(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Yi(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,V=G.useMemo(()=>{let M=er(p,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:w,key:S},navigationType:s}},[f,p,g,E,w,S,s]);return Gn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement($n.Provider,{value:m},G.createElement(hu.Provider,{children:e,value:V}))}function dS({children:i,location:e}){return Zw(Vm(i),e)}function Vm(i,e=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Vm(s.props.children,u));return}it(s.type===Yi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Hh(i){return i!=null&&typeof i.tagName=="string"}function mS(i){return Hh(i)&&i.tagName.toLowerCase()==="button"}function pS(i){return Hh(i)&&i.tagName.toLowerCase()==="form"}function gS(i){return Hh(i)&&i.tagName.toLowerCase()==="input"}function yS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _S(i,e){return i.button===0&&(!e||e==="_self")&&!yS(i)}var Yc=null;function vS(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var ES=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(i){return i!=null&&!ES.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):i}function TS(i,e){let n,s,o,u,f;if(pS(i)){let m=i.getAttribute("action");s=m?er(m,e):null,n=i.getAttribute("method")||sh,o=vm(i.getAttribute("enctype"))||ah,u=new FormData(i)}else if(mS(i)||gS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?er(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||sh,o=vm(i.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||ah,u=new FormData(m,i),!vS()){let{name:g,type:E,value:w}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(Hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function bS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function wS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await bS(u,n);return f.links?f.links():[]}return[]}));return CS(s.flat(1).filter(AS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function SS(i,e,{includeHydrateFallback:n}={}){return RS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function RS(i){return[...new Set(i)]}function IS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function CS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(IS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function NS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&er(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function FE(){let i=G.useContext(yo);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function DS(){let i=G.useContext(Bh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=G.createContext(void 0);yp.displayName="FrameworkContext";function GE(){let i=G.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function xS(i,e){let n=G.useContext(yp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=K=>{K.forEach(re=>{f(re.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let V=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ul(m,V),onBlur:Ul(p,M),onMouseEnter:Ul(g,V),onMouseLeave:Ul(E,M),onTouchStart:Ul(w,V)}]:[!1,S,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function OS({page:i,...e}){let{router:n}=FE(),s=G.useMemo(()=>VE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(PS,{page:i,matches:s,...e}):null}function MS(i){let{manifest:e,routeModules:n}=GE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return wS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function PS({page:i,matches:e,...n}){let s=ts(),{manifest:o,routeModules:u}=GE(),{basename:f}=FE(),{loaderData:m,matches:p}=DS(),g=G.useMemo(()=>Fv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>Fv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,$=!1;if(e.forEach(K=>{var Z;let re=o.routes[K.route.id];!re||!re.hasLoader||(!g.some(ie=>ie.route.id===K.route.id)&&K.route.id in m&&((Z=u[K.route.id])!=null&&Z.shouldRevalidate)||re.hasClientLoader?$=!0:M.add(K.route.id))}),M.size===0)return[];let L=NS(i,f);return $&&M.size>0&&L.searchParams.set("_routes",e.filter(K=>M.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,e,i,u]),S=G.useMemo(()=>SS(E,o),[E,o]),V=MS(E);return G.createElement(G.Fragment,null,w.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),V.map(({key:M,link:$})=>G.createElement("link",{key:M,...$})))}function VS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KE&&(window.__reactRouterVersion="7.5.0")}catch{}function kS({basename:i,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=ww({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(fS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},V){let{basename:M}=G.useContext($n),$=typeof g=="string"&&QE.test(g),L,K=!1;if(typeof g=="string"&&$&&(L=g,KE))try{let I=new URL(window.location.href),O=g.startsWith("//")?new URL(I.protocol+g):new URL(g),k=er(O.pathname,M);O.origin===I.origin&&k!=null?g=k+O.search+O.hash:K=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Xw(g,{relative:o}),[Z,ie,se]=xS(s,S),ce=jS(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function N(I){e&&e(I),I.defaultPrevented||ce(I)}let R=G.createElement("a",{...S,...se,href:L||re,onClick:K||u?e:N,ref:VS(V,ie),target:p,"data-discover":!$&&n==="render"?"true":void 0});return Z&&!$?G.createElement(G.Fragment,null,R,G.createElement(OS,{page:re})):R});di.displayName="Link";var Hl=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=fu(f,{relative:g.relative}),S=ts(),V=G.useContext(Bh),{navigator:M,basename:$}=G.useContext($n),L=V!=null&&FS(w)&&m===!0,K=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,re=S.pathname,Z=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(re=re.toLowerCase(),Z=Z?Z.toLowerCase():null,K=K.toLowerCase()),Z&&$&&(Z=er(Z,$)||Z);const ie=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=re===K||!o&&re.startsWith(K)&&re.charAt(ie)==="/",ce=Z!=null&&(Z===K||!o&&Z.startsWith(K)&&Z.charAt(K.length)==="/"),N={isActive:se,isPending:ce,isTransitioning:L},R=se?e:void 0,I;typeof s=="function"?I=s(N):I=[s,se?"active":null,ce?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return G.createElement(di,{...g,"aria-current":R,className:I,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Hl.displayName="NavLink";var US=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},V)=>{let M=HS(),$=qS(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&QE.test(m),re=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ie=Z.nativeEvent.submitter,se=(ie==null?void 0:ie.getAttribute("formmethod"))||f;M(ie||Z.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return G.createElement("form",{ref:V,method:L,action:$,onSubmit:s?p:re,...S,"data-discover":!K&&i==="render"?"true":void 0})});US.displayName="Form";function LS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $E(i){let e=G.useContext(yo);return it(e,LS(i)),e}function jS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=vo(),p=ts(),g=fu(i,{relative:u});return G.useCallback(E=>{if(_S(E,e)){E.preventDefault();let w=n!==void 0?n:tu(p)===tu(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var zS=0,BS=()=>`__${String(++zS)}__`;function HS(){let{router:i}=$E("useSubmit"),{basename:e}=G.useContext($n),n=oS();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=TS(s,e);if(o.navigate===!1){let E=o.fetcherKey||BS();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function qS(i,{relative:e}={}){let{basename:n}=G.useContext($n),s=G.useContext(Ti);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},f=ts();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),tu(u)}function FS(i,e={}){let n=G.useContext(jE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$E("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}new TextEncoder;const GS=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},KS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(S=64)),s.push(n[E],n[w],n[S],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(YE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):KS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new QS;const S=u<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),w!==64){const M=g<<6&192|w;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $S=function(i){const e=YE(i);return XE.encodeByteArray(e,!0)},vh=function(i){return $S(i).replace(/\./g,"")},WE=function(i){try{return XE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>YS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&WE(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return GS()||XS()||WS()||ZS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ZE=i=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},JE=i=>{const e=ZE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eT=()=>{var i;return(i=qh())===null||i===void 0?void 0:i.config},tT=i=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function tR(){var i;const e=(i=qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new bi(o,m,s)}}function cR(i,e){return i.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Kv(u)&&Kv(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Fl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function dR(i,e){const n=new mR(i,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i){return i&&i._delegate?i._delegate:i}class $r{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new JS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(i){return i===qs?void 0:i}function _R(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const ER={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},TR=Me.INFO,bR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},AR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const wR=(i,e)=>e.some(n=>i instanceof n);let Qv,$v;function SR(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,km=new WeakMap,rT=new WeakMap,Tm=new WeakMap,vp=new WeakMap;function IR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&iT.set(n,i)}).catch(()=>{}),vp.set(e,i),e}function CR(i){if(km.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});km.set(i,e)}let Um={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NR(i){Um=i(Um)}function DR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(bm(this),e,...n);return rT.set(s,e.sort?e.sort():[e]),qr(s)}:RR().includes(i)?function(...e){return i.apply(bm(this),e),qr(iT.get(this))}:function(...e){return qr(i.apply(bm(this),e))}}function xR(i){return typeof i=="function"?DR(i):(i instanceof IDBTransaction&&CR(i),wR(i,SR())?new Proxy(i,Um):i)}function qr(i){if(i instanceof IDBRequest)return IR(i);if(Tm.has(i))return Tm.get(i);const e=xR(i);return e!==i&&(Tm.set(i,e),vp.set(e,i)),e}const bm=i=>vp.get(i);function OR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Am=new Map;function Yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Am.set(e,u),u}NR(i=>({...i,get:(e,n,s)=>Yv(e,n)||i.get(e,n,s),has:(e,n)=>!!Yv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Xv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new _p("@firebase/app"),UR="@firebase/app-compat",LR="@firebase/analytics-compat",jR="@firebase/analytics",zR="@firebase/app-check-compat",BR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",KR="@firebase/database-compat",QR="@firebase/functions",$R="@firebase/functions-compat",YR="@firebase/installations",XR="@firebase/installations-compat",WR="@firebase/messaging",ZR="@firebase/messaging-compat",JR="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",i2="@firebase/storage",r2="@firebase/storage-compat",s2="@firebase/firestore",a2="@firebase/vertexai",o2="@firebase/firestore-compat",l2="firebase",u2="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",c2={[Lm]:"fire-core",[UR]:"fire-core-compat",[jR]:"fire-analytics",[LR]:"fire-analytics-compat",[BR]:"fire-app-check",[zR]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[$R]:"fire-fn-compat",[YR]:"fire-iid",[XR]:"fire-iid-compat",[WR]:"fire-fcm",[ZR]:"fire-fcm-compat",[JR]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[i2]:"fire-gcs",[r2]:"fire-gcs-compat",[s2]:"fire-fst",[o2]:"fire-fst-compat",[a2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,h2=new Map,zm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $s(i){const e=i.name;if(zm.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const n of Eh.values())Wv(n,i);for(const n of h2.values())Wv(n,i);return!0}function Fh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new du("app","Firebase",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=u2;function sT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw Fr.create("no-options");const u=Eh.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw Fr.create("duplicate-app",{appName:o})}const f=new vR(o);for(const p of zm.values())f.addComponent(p);const m=new d2(n,s,f);return Eh.set(o,m),m}function Ep(i=jm){const e=Eh.get(i);if(!e&&i===jm&&eT())return sT();if(!e)throw Fr.create("no-app",{appName:i});return e}function pi(i,e,n){var s;let o=(s=c2[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(m.join(" "));return}$s(new $r(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",p2=1,nu="firebase-heartbeat-store";let wm=null;function aT(){return wm||(wm=OR(m2,p2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),wm}async function g2(i){try{const n=(await aT()).transaction(nu),s=await n.objectStore(nu).get(oT(i));return await n.done,s}catch(e){if(e instanceof bi)tr.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function Zv(i,e){try{const s=(await aT()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,oT(i)),await s.done}catch(n){if(n instanceof bi)tr.warn(n.message);else{const s=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(s.message)}}}function oT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1024,_2=30;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_2){const f=b2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jv(),{heartbeatsToSend:s,unsentEntries:o}=E2(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function E2(i,e=y2){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),e0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),e0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function e0(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function b2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i){$s(new $r("platform-logger",e=>new VR(e),"PRIVATE")),$s(new $r("heartbeat",e=>new v2(e),"PRIVATE")),pi(Lm,Xv,i),pi(Lm,Xv,"esm2017"),pi("fire-js","")}A2("");function Tp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function lT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=lT,uT=new du("auth","Firebase",lT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new _p("@firebase/auth");function S2(i,...e){Th.logLevel<=Me.WARN&&Th.warn(`Auth (${ea}): ${i}`,...e)}function oh(i,...e){Th.logLevel<=Me.ERROR&&Th.error(`Auth (${ea}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw bp(i,...e)}function gi(i,...e){return bp(i,...e)}function cT(i,e,n){const s=Object.assign(Object.assign({},w2()),{[e]:n});return new du("auth","Firebase",s).create(e,{appName:i.name})}function Ji(i){return cT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uT.create(i,...e)}function Ee(i,e,...n){if(!i)throw bp(e,...n)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw oh(e),new Error(e)}function nr(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function R2(){return t0()==="http:"||t0()==="https:"}function t0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R2()||iR()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||rR()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i,e){nr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x2=new pu(3e4,6e4);function ns(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function sr(i,e,n,s,o={}){return fT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return nR()||(g.referrerPolicy="no-referrer"),hT.fetch()(await dT(i,i.config.apiHost,n,m),g)})}async function fT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},N2),e);try{const o=new M2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Xc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Xc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cT(i,E,g);Kn(i,E)}}catch(o){if(o instanceof bi)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function gu(i,e,n,s,o={}){const u=await sr(i,e,n,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function dT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Ap(i.config,o):`${i.config.apiScheme}://${o}`;return D2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function O2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),x2.get())})}}function Xc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(i,e,s);return o.customData._tokenResponse=n,o}function n0(i){return i!==void 0&&i.enterprise!==void 0}class P2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V2(i,e){return sr(i,"GET","/v2/recaptchaConfig",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){return sr(i,"POST","/v1/accounts:delete",e)}async function bh(i,e){return sr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U2(i,e=!1){const n=rt(i),s=await n.getIdToken(e),o=wp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(Sm(o.auth_time)),issuedAtTime:Yl(Sm(o.iat)),expirationTime:Yl(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Sm(i){return Number(i)*1e3}function wp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=WE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function i0(i){const e=wp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof bi&&L2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function L2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ao(i,bh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?mT(u.providerUserInfo):[],m=B2(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function z2(i){const e=rt(i);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mT(i){return i.map(e=>{var{providerId:n}=e,s=Tp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(i,e){const n=await fT(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await dT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",hT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function q2(i,e){return sr(i,"POST","/v2/accounts:revokeToken",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=i0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await H2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ao(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U2(this,e)}reload(){return z2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await ao(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:ie,isAnonymous:se,providerData:ce,stsTokenManager:N}=n;Ee(Z&&N,e,"internal-error");const R=no.fromJSON(this.name,N);Ee(typeof Z=="string",e,"internal-error"),Vr(w,e.name),Vr(S,e.name),Ee(typeof ie=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),Vr(V,e.name),Vr(M,e.name),Vr($,e.name),Vr(L,e.name),Vr(K,e.name),Vr(re,e.name);const I=new qn({uid:Z,auth:e,email:S,emailVerified:ie,displayName:w,isAnonymous:se,photoURL:M,phoneNumber:V,tenantId:$,stsTokenManager:R,createdAt:K,lastLoginAt:re});return ce&&Array.isArray(ce)&&(I.providerData=ce.map(O=>Object.assign({},O))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;function Wi(i){nr(i instanceof Function,"Expected a class definition");let e=r0.get(i);return e?(nr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,r0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pT.type="NONE";const s0=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Wi(s0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(s0);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const S=await bh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await qn._fromGetAccountInfoResponse(e,S,E)}else w=qn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(bT(e))return"Webos";if(yT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gT(i=Jt()){return/firefox\//i.test(i)}function yT(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(i=Jt()){return/crios\//i.test(i)}function vT(i=Jt()){return/iemobile/i.test(i)}function ET(i=Jt()){return/android/i.test(i)}function TT(i=Jt()){return/blackberry/i.test(i)}function bT(i=Jt()){return/webos/i.test(i)}function Sp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function F2(i=Jt()){var e;return Sp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G2(){return sR()&&document.documentMode===10}function AT(i=Jt()){return Sp(i)||ET(i)||bT(i)||TT(i)||/windows phone/i.test(i)||vT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i,e=[]){let n;switch(i){case"Browser":n=a0(Jt());break;case"Worker":n=`${a0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(i,e={}){return sr(i,"GET","/v2/passwordPolicy",ns(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=6;class Y2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:$2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new K2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(Ji(this));const n=e?rt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q2(this),n=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await q2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(i){return rt(i)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(i){Gh=i}function ST(i){return Gh.loadJS(i)}function Z2(){return Gh.recaptchaEnterpriseScript}function J2(){return Gh.gapiScript}function eI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tI{constructor(){this.enterprise=new nI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iI="recaptcha-enterprise",RT="NO_RECAPTCHA";class rI{constructor(e){this.type=iI,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{V2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new P2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;n0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(RT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&n0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Z2();p.length!==0&&(p+=m),ST(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function l0(i,e,n,s=!1,o=!1){const u=new rI(i);let f;if(o)f=RT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await l0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await l0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i,e){const n=Fh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function aI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oI(i,e,n){const s=ta(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=IT(e),{host:f,port:m}=lI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Qs(g,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uI()}function IT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function lI(i){const e=IT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:u0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:u0(f)}}}function u0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function uI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function cI(i,e){return sr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(i,e){return gu(i,"POST","/v1/accounts:signInWithPassword",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}async function dI(i,e){return gu(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Rp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",hI);case"emailLink":return fI(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,s,"signUpPassword",cI);case"emailLink":return dI(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return gu(i,"POST","/v1/accounts:signInWithIdp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class Ys extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Tp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gI(i){const e=ql(Fl(i)).link,n=e?ql(Fl(e)).deep_link_id:null,s=ql(Fl(i)).deep_link_id;return(s?ql(Fl(s)).link:null)||s||n||e||i}class Ip{constructor(e){var n,s,o,u,f,m;const p=ql(Fl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=pI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=gI(e);try{return new Ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ip.parseLink(n);return Ee(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends yu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends yu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i,e){return gu(i,"POST","/v1/accounts:signUp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await qn._fromIdTokenResponse(e,s,o),f=c0(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=c0(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function c0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends bi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function NT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(i,u,e,s):u})}async function _I(i,e,n=!1){const s=await ao(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Xs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(i,e,n=!1){const{auth:s}=i;if(Tn(s.app))return Promise.reject(Ji(s));const o="reauthenticate";try{const u=await ao(i,NT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=wp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Xs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(i,e,n=!1){if(Tn(i.app))return Promise.reject(Ji(i));const s="signIn",o=await NT(i,s,e),u=await Xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function EI(i,e){return DT(ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(i){const e=ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TI(i,e,n){if(Tn(i.app))return Promise.reject(Ji(i));const s=ta(i),f=await qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xT(i),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function bI(i,e,n){return Tn(i.app)?Promise.reject(Ji(i)):EI(rt(i),Eo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(i,e){return sr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=rt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await ao(s,AI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function SI(i,e,n,s){return rt(i).onIdTokenChanged(e,n,s)}function RI(i,e,n){return rt(i).beforeAuthStateChanged(e,n)}function II(i,e,n,s){return rt(i).onAuthStateChanged(e,n,s)}function CI(i){return rt(i).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,DI=10;class MT extends OT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);G2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const xI=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends OT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PT.type="SESSION";const VT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await OI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Cp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function PI(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function VI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function UI(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",LI=1,Rh="firebaseLocalStorage",LT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function jI(){const i=indexedDB.deleteDatabase(UT);return new _u(i).toPromise()}function Fm(){const i=indexedDB.open(UT,LI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Rh,{keyPath:LT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await jI(),e(await Fm()))})})}async function h0(i,e,n){const s=Qh(i,!0).put({[LT]:e,value:n});return new _u(s).toPromise()}async function zI(i,e){const n=Qh(i,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function f0(i,e){const n=Qh(i,!0).delete(e);return new _u(n).toPromise()}const BI=800,HI=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(UI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await h0(e,Sh,"1"),await f0(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>h0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const qI=jT;new pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i,e){return e?Wi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GI(i){return DT(i.auth,new Np(i),i.bypassAuthState)}function KI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),vI(n,new Np(i),i.bypassAuthState)}async function QI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),_I(n,new Np(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:Kn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new pu(2e3,1e4);class eo extends zT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$I.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="pendingRedirect",uh=new Map;class XI extends zT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await WI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WI(i,e){const n=eC(e),s=JI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZI(i,e){uh.set(i._key(),e)}function JI(i){return Wi(i._redirectPersistence)}function eC(i){return lh(YI,i.config.apiKey,i.name)}async function tC(i,e,n=!1){if(Tn(i.app))return Promise.reject(Ji(i));const s=ta(i),o=FI(s,e),f=await new XI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=10*60*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!BT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function BT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(i,e={}){return sr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;async function lC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sC(i);for(const n of e)try{if(uC(n))return}catch{}Kn(i,"unauthorized-domain")}function uC(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!oC.test(n))return!1;if(aC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new pu(3e4,6e4);function m0(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function hC(i){return new Promise((e,n)=>{var s,o,u;function f(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(gi(i,"network-request-failed"))},timeout:cC.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=eI("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(i,"network-request-failed"))},ST(`${J2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function fC(i){return ch=ch||hC(i),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new pu(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ap(e,pC):`https://${i.config.authDomain}/${mC}`,s={apiKey:e.apiKey,appName:i.name,v:ea},o=yC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function vC(i){const e=await fC(i),n=yi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:_C(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(i,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},dC.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,bC=600,AC="_blank",wC="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SC(i,e,n,s=TC,o=bC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},EC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();n&&(m=_T(g)?AC:n),gT(g)&&(e=e||wC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,M])=>`${S}${V}=${M},`,"");if(F2(g)&&m!=="_self")return RC(e||"",m),new p0(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new p0(w)}function RC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="__/auth/handler",CC="emulator/auth/handler",NC=encodeURIComponent("fac");async function g0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ea,eventId:o};if(e instanceof CT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",fR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof yu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${NC}=${encodeURIComponent(p)}`:"";return`${DC(i)}?${mu(m).slice(1)}${g}`}function DC({config:i}){return i.emulator?Ap(i,CC):`https://${i.authDomain}/${IC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class xC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=tC,this._overrideRedirectResult=ZI}async _openPopup(e,n,s,o){var u;nr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await g0(e,n,s,Bm(),o);return SC(e,f,Cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await g0(e,n,s,Bm(),o);return PI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vC(e),s=new iC(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Rm];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AT()||yT()||Sp()}}const OC=xC;var y0="@firebase/auth",_0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(i){$s(new $r("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(i)},g=new X2(s,o,u,p);return aI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$s(new $r("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new MC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(y0,_0,PC(i)),pi(y0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=5*60,UC=tT("authIdTokenMaxAge")||kC;let v0=null;const LC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UC)return;const o=n==null?void 0:n.token;v0!==o&&(v0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jC(i=Ep()){const e=Fh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=sI(i,{popupRedirectResolver:OC,persistence:[qI,xI,VT]}),s=tT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=LC(u.toString());RI(n,f,()=>f(n.currentUser)),SI(n,m=>f(m))}}const o=ZE("auth");return o&&oI(n,`http://${o}`),n}function zC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}W2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var BC="firebase",HC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(BC,HC,"app");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,HT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function I(){}I.prototype=R.prototype,N.D=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,k,j){for(var D=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)D[Lt-2]=arguments[Lt];return R.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(k=0;16>k;++k)O[k]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],k=N.g[2];var j=N.g[3],D=R+(j^I&(k^j))+O[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=j+(k^R&(I^k))+O[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(I^j&(R^I))+O[2]+606105819&4294967295,k=j+(D<<17&4294967295|D>>>15),D=I+(R^k&(j^R))+O[3]+3250441966&4294967295,I=k+(D<<22&4294967295|D>>>10),D=R+(j^I&(k^j))+O[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(k^R&(I^k))+O[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(I^j&(R^I))+O[6]+2821735955&4294967295,k=j+(D<<17&4294967295|D>>>15),D=I+(R^k&(j^R))+O[7]+4249261313&4294967295,I=k+(D<<22&4294967295|D>>>10),D=R+(j^I&(k^j))+O[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(k^R&(I^k))+O[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(I^j&(R^I))+O[10]+4294925233&4294967295,k=j+(D<<17&4294967295|D>>>15),D=I+(R^k&(j^R))+O[11]+2304563134&4294967295,I=k+(D<<22&4294967295|D>>>10),D=R+(j^I&(k^j))+O[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(k^R&(I^k))+O[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=k+(I^j&(R^I))+O[14]+2792965006&4294967295,k=j+(D<<17&4294967295|D>>>15),D=I+(R^k&(j^R))+O[15]+1236535329&4294967295,I=k+(D<<22&4294967295|D>>>10),D=R+(k^j&(I^k))+O[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^k&(R^I))+O[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^I&(j^R))+O[11]+643717713&4294967295,k=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(k^j))+O[0]+3921069994&4294967295,I=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(I^k))+O[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^k&(R^I))+O[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^I&(j^R))+O[15]+3634488961&4294967295,k=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(k^j))+O[4]+3889429448&4294967295,I=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(I^k))+O[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^k&(R^I))+O[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^I&(j^R))+O[3]+4107603335&4294967295,k=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(k^j))+O[8]+1163531501&4294967295,I=k+(D<<20&4294967295|D>>>12),D=R+(k^j&(I^k))+O[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^k&(R^I))+O[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=k+(R^I&(j^R))+O[7]+1735328473&4294967295,k=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(k^j))+O[12]+2368359562&4294967295,I=k+(D<<20&4294967295|D>>>12),D=R+(I^k^j)+O[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^k)+O[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^I)+O[11]+1839030562&4294967295,k=j+(D<<16&4294967295|D>>>16),D=I+(k^j^R)+O[14]+4259657740&4294967295,I=k+(D<<23&4294967295|D>>>9),D=R+(I^k^j)+O[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^k)+O[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^I)+O[7]+4139469664&4294967295,k=j+(D<<16&4294967295|D>>>16),D=I+(k^j^R)+O[10]+3200236656&4294967295,I=k+(D<<23&4294967295|D>>>9),D=R+(I^k^j)+O[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^k)+O[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^I)+O[3]+3572445317&4294967295,k=j+(D<<16&4294967295|D>>>16),D=I+(k^j^R)+O[6]+76029189&4294967295,I=k+(D<<23&4294967295|D>>>9),D=R+(I^k^j)+O[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^k)+O[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=k+(j^R^I)+O[15]+530742520&4294967295,k=j+(D<<16&4294967295|D>>>16),D=I+(k^j^R)+O[2]+3299628645&4294967295,I=k+(D<<23&4294967295|D>>>9),D=R+(k^(I|~j))+O[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~k))+O[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~I))+O[14]+2878612391&4294967295,k=j+(D<<15&4294967295|D>>>17),D=I+(j^(k|~R))+O[5]+4237533241&4294967295,I=k+(D<<21&4294967295|D>>>11),D=R+(k^(I|~j))+O[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~k))+O[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~I))+O[10]+4293915773&4294967295,k=j+(D<<15&4294967295|D>>>17),D=I+(j^(k|~R))+O[1]+2240044497&4294967295,I=k+(D<<21&4294967295|D>>>11),D=R+(k^(I|~j))+O[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~k))+O[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~I))+O[6]+2734768916&4294967295,k=j+(D<<15&4294967295|D>>>17),D=I+(j^(k|~R))+O[13]+1309151649&4294967295,I=k+(D<<21&4294967295|D>>>11),D=R+(k^(I|~j))+O[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~k))+O[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=k+(R^(j|~I))+O[2]+718787259&4294967295,k=j+(D<<15&4294967295|D>>>17),D=I+(j^(k|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var I=R-this.blockSize,O=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=I;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(O[k++]=N.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<R;)if(O[k++]=N[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var I=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=I&255,I/=256;for(this.u(N),N=Array(16),R=I=0;4>R;++R)for(var O=0;32>O;O+=8)N[I++]=this.g[R]>>>O&255;return N};function u(N,R){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function f(N,R){this.h=R;for(var I=[],O=!0,k=N.length-1;0<=k;k--){var j=N[k]|0;O&&j==R||(I[k]=j,O=!1)}this.g=I}var m={};function p(N){return-128<=N&&128>N?u(N,function(R){return new f([R|0],0>R?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return L(g(-N));for(var R=[],I=1,O=0;N>=I;O++)R[O]=N/I|0,I*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return L(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),O=w,k=0;k<N.length;k+=8){var j=Math.min(8,N.length-k),D=parseInt(N.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(D))):(O=O.j(I),O=O.add(g(D)))}return O}var w=p(0),S=p(1),V=p(16777216);i=f.prototype,i.m=function(){if($(this))return-L(this).m();for(var N=0,R=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if($(this))return"-"+L(this).toString(N);for(var R=g(Math.pow(N,6)),I=this,O="";;){var k=ie(I,R).g;I=K(I,k.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=k,M(I))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function $(N){return N.h==-1}i.l=function(N){return N=K(this,N),$(N)?-1:M(N)?0:1};function L(N){for(var R=N.g.length,I=[],O=0;O<R;O++)I[O]=~N.g[O];return new f(I,~N.h).add(S)}i.abs=function(){return $(this)?L(this):this},i.add=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0,k=0;k<=R;k++){var j=O+(this.i(k)&65535)+(N.i(k)&65535),D=(j>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=D>>>16,j&=65535,D&=65535,I[k]=D<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function K(N,R){return N.add(L(R))}i.j=function(N){if(M(this)||M(N))return w;if($(this))return $(N)?L(this).j(L(N)):L(L(this).j(N));if($(N))return L(this.j(L(N)));if(0>this.l(V)&&0>N.l(V))return g(this.m()*N.m());for(var R=this.g.length+N.g.length,I=[],O=0;O<2*R;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var j=this.i(O)>>>16,D=this.i(O)&65535,Lt=N.i(k)>>>16,ot=N.i(k)&65535;I[2*O+2*k]+=D*ot,re(I,2*O+2*k),I[2*O+2*k+1]+=j*ot,re(I,2*O+2*k+1),I[2*O+2*k+1]+=D*Lt,re(I,2*O+2*k+1),I[2*O+2*k+2]+=j*Lt,re(I,2*O+2*k+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function re(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Z(N,R){this.g=N,this.h=R}function ie(N,R){if(M(R))throw Error("division by zero");if(M(N))return new Z(w,w);if($(N))return R=ie(L(N),R),new Z(L(R.g),L(R.h));if($(R))return R=ie(N,L(R)),new Z(L(R.g),R.h);if(30<N.g.length){if($(N)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,O=R;0>=O.l(N);)I=se(I),O=se(O);var k=ce(I,1),j=ce(O,1);for(O=ce(O,2),I=ce(I,2);!M(O);){var D=j.add(O);0>=D.l(N)&&(k=k.add(I),j=D),O=ce(O,1),I=ce(I,1)}return R=K(N,k.j(R)),new Z(k,R)}for(k=w;0<=N.l(R);){for(I=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(I),D=j.j(R);$(D)||0<D.l(N);)I-=O,j=g(I),D=j.j(R);M(j)&&(j=S),k=k.add(j),N=K(N,D)}return new Z(k,N)}i.A=function(N){return ie(this,N).h},i.and=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)&N.i(O);return new f(I,this.h&N.h)},i.or=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)|N.i(O);return new f(I,this.h|N.h)},i.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),I=[],O=0;O<R;O++)I[O]=this.i(O)^N.i(O);return new f(I,this.h^N.h)};function se(N){for(var R=N.g.length+1,I=[],O=0;O<R;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(I,N.h)}function ce(N,R){var I=R>>5;R%=32;for(var O=N.g.length-I,k=[],j=0;j<O;j++)k[j]=0<R?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Gr=f}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qT,Gl,FT,hh,Gm,GT,KT,QT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,Q){for(var oe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)oe[Ve-2]=arguments[Ve];return y.prototype[z].apply(A,oe)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,Q=A.length||0;c.length=z+Q;for(let oe=0;oe<Q;oe++)c[z+oe]=A[oe]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var se=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ce(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let Q=0;Q<I.length;Q++)_=I[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,_){const A=ot.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new K(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,ze=new Lt,x=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ie(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}M(Ne,ae);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Yn(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function ar(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ai(c){this.src=c,this.g={},this.h=0}Ai.prototype.add=function(c,y,_,A,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=os(c,y,A,z);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new Yn(y,this.src,Q,!!A,z),y.fa=_,c.push(y)),y};function as(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(A,z,1),Q&&(ar(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,A){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==A)return z}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Ro={};function Su(c,y,_,A,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Su(c,y[Q],_,A,z);return null}return _=Ru(_),c&&c[xt]?c.K(y,_,g(A)?!!A.capture:!1,z):wn(c,y,_,!1,A,z)}function wn(c,y,_,A,z,Q){if(!y)throw Error("Invalid event type");var oe=g(z)?!!z.capture:!!z,Ve=sa(c);if(Ve||(c[ls]=Ve=new Ai(c)),_=Ve.add(y,_,A,oe,Q),_.proxy)return _;if(A=ff(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ye||(z=oe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(us(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ff(){function c(_){return y.call(c.src,c.listener,_)}const y=df;return c}function Io(c,y,_,A,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Io(c,y[Q],_,A,z);else A=g(A)?!!A.capture:!!A,_=Ru(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=os(Q,_,A,z),-1<_&&(ar(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,A,z)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])as(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(us(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=sa(y))?(as(_,c),_.h==0&&(_.src=null,y[ls]=null)):ar(c)}}}function us(c){return c in Ro?Ro[c]:Ro[c]="on"+c}function df(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ra(c),c=_.call(A,y)}return c}function sa(c){return c=c[ls],c instanceof Ai?c:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function lt(){ue.call(this),this.i=new Ai(this),this.M=this,this.F=null}M(lt,ue),lt.prototype[xt]=!0,lt.prototype.removeEventListener=function(c,y,_,A){Io(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var z=y;y=new ae(A,c),O(y,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=y.g=_[Q];z=fn(oe,A,!0,y)&&z}if(oe=y.g=c,z=fn(oe,A,!0,y)&&z,z=fn(oe,A,!1,y)&&z,_)for(Q=0;Q<_.length;Q++)oe=y.g=_[Q],z=fn(oe,A,!1,y)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)ar(_[A]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},lt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function fn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==_){var Ve=oe.listener,wt=oe.ha||oe.src;oe.fa&&as(c.i,oe),z=Ve.call(wt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Qt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class mf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ue.call(this),this.h=c,this.g={}}M(cs,ue);var hs=[];function fs(c){ce(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,aa=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function xo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ae.call(this,"d")}M(Si,ae);function Oo(){ae.call(this,"c")}M(Oo,ae);var Xn={},Mo=null;function or(){return Mo=Mo||new lt}Xn.La="serverreachability";function oa(c){ae.call(this,Xn.La,c)}M(oa,ae);function lr(c){const y=or();Fe(y,new oa(y))}Xn.STAT_EVENT="statevent";function Cu(c,y){ae.call(this,Xn.STAT_EVENT,c),this.stat=y}M(Cu,ae);function tt(c){const y=or();Fe(y,new Cu(y,c))}Xn.Ma="timingevent";function At(c,y){ae.call(this,Xn.Ma,c),this.size=y}M(At,ae);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Po(c,y,_,A,z,Q){c.info(function(){if(c.g)if(Q)for(var oe="",Ve=Q.split("&"),wt=0;wt<Ve.length;wt++){var ke=Ve[wt].split("=");if(1<ke.length){var Mt=ke[0];ke=ke[1];var St=Mt.split("_");oe=2<=St.length&&St[1]=="type"?oe+(Mt+"="+ke+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+oe})}function pf(c,y,_,A,z,Q,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+Q+" "+oe})}function ur(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(A?" "+A:"")})}function Nu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Un(_)}catch{return y}}var cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}M(Zn,No),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function en(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Vo={},la={};function Ln(c,y,_){c.L=1,c.v=vs(dn(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),ps(c),c.A=dn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Bo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dt,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new mf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(hs[0]=z.toString()),z=hs);for(var Q=0;Q<z.length;Q++){var oe=Su(_,z[Q],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),lr(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const St=Nn(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||St!=4||y==7||(y==8||0>=Vi?lr(3):lr(2)),hr(this);var _=this.g.Z();this.X=_;t:if(Du(this)){var A=Uu(this.g);c="";var z=A.length,Q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),Jn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Q&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,pf(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,wt=this.g;if((Ve=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ve)){var ke=Ve;break t}}ke=null}if(_=ke)ur(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,tt(12),jt(this),Jn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=xu(this,oe),zt==la){St==4&&(this.s=4,tt(14),_=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Vo){this.s=4,tt(15),ur(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else ur(this.i,this.l,zt,null),gs(this,zt);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||oe.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)ur(this.i,this.l,oe,"[Invalid Chunked Response]"),jt(this),Jn(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Is(Mt),Mt.M=!0,tt(11))}}else ur(this.i,this.l,oe,null),gs(this,oe);St==4&&jt(this),this.o&&!this.J&&(St==4?Hu(this.j,this):(this.o=!1,ps(this)))}else Ef(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),jt(this),Jn(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?la:(_=Number(y.substring(_,A)),isNaN(_)?Vo:(A+=1,A+_>y.length?la:(y=y.slice(A,A+_),c.C=A+_,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function ps(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),y)}function hr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(lr(),tt(17)),jt(this),this.s=2,Jn(this)):Ou(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Hu(c.j,c)}function jt(c){hr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break e;Ko(_),tt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(S(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((c.K||_.g==c)&&Ea(_),!re(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Mt=ke[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const St=ke[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Vi=ke[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const ai=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Q=A.h;Q.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ha(Q,Q.h),Q.h=null))}if(A.D){const $o=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(A.ya=$o,Qe(A.I,A.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=Fu(A,A.J?A.ia:null,A.W),oe.K){tn(A.h,oe);var Ve=oe,wt=A.L;wt&&(Ve.I=wt),Ve.B&&(hr(Ve),ps(Ve)),A.g=oe}else zu(A);0<_.i.length&&va(_)}else ke[0]!="stop"&&ke[0]!="close"||Pi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Pi(_,7):Fo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}lr(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ci.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function gf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),A=gf(c),z=A.length,Q=0;Q<z;Q++)y.call(void 0,A[Q],_&&_[Q],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var Q=c[_].substring(0,A);z=c[_].substring(A+1)}else Q=c[_];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,fr(this,c.s),this.l=c.l;var y=c.i,_=new Di;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ni(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),fr(this,y[4]),this.l=Rn(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,jo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,jo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?_f:zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,da)),c.join("")};function dn(c){return new _t(c)}function _s(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ni(c,y,_){y instanceof Di?(c.i=y,Vu(c.i,c.h)):(_||(y=Es(y,vf)),c.i=new Di(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function vs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,zo=/[#\?:]/g,_f=/[#\?]/g,vf=/[#\?@]/g,da=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&yf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Di.prototype,i.add=function(c,y){In(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xi(c,y){In(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return In(c),y=ei(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Q=0;Q<z.length;Q++)_.push(y[A])}return _},i.V=function(c){In(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return In(this),this.i=null,c=ei(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){xi(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Q=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var z=Q;oe[A]!==""&&(z+="="+encodeURIComponent(String(oe[A]))),c.push(z)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(xi(this,A),Bo(this,z,_))},c)),c.j=y}function Ts(c,y){const _=new Sn;if(m.Image){const A=new Image;A.onload=V(Cn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=V(Cn,_,"TestLoadImage: error",!1,y,A),A.onabort=V(Cn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=V(Cn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function jn(c,y){const _=new Sn,A=new AbortController,z=setTimeout(()=>{A.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function bs(){this.g=new ds}function ti(c,y,_){const A=_||"";try{Lo(c,function(z,Q){let oe=z;g(z)&&(oe=Un(z)),y.push(A+Q+"="+encodeURIComponent(oe))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(dr,No),dr.prototype.g=function(){return new Mi(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Mi,lt),i=Mi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ni(this):ii(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},i.Qa=function(c){this.g&&(this.response=c,ni(this))},i.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return ce(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(He,lt);var ma=/^https?$/i,As=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Do(this.o):Do(Wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){ku(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ku(this,Q)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),ri(c)}function pa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=oe===0){var z=String(c.D).match(ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ma.test(z?z.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Q=2<Nn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",pa(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){ws(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ef(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var _=k(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[z]||[];y[z]=Q,Q.push(_)}N(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){tt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Fu(this,null,this.W),va(this)};function Fo(c){if(Lu(c),c.G==3){var y=c.U++,_=dn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),Rs(c,_),y=new en(c,c.j,y),y.L=2,y.v=vs(dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}qu(c)}function _a(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Lu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||x(),pe||(le(),pe=!0),ze.add(y,c),c.B=0}}function Tf(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new en(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),_=dn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Rs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(qo(Q)))+"&"+y:this.m&&Ot(_,this.m,Q)),ha(this.h,z),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),z.T=!0,Ln(z,_,null)):Ln(z,_,y),this.G=2}}else this.G==3&&(c?Go(this,c):this.i.length==0||ua(this.h)||Go(this))};function Go(c,y){var _;y?_=y.l:_=c.U++;const A=dn(c.I);Qe(A,"SID",c.K),Qe(A,"RID",_),Qe(A,"AID",c.T),Rs(c,A),c.m&&c.o&&Ot(A,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),Ln(_,A,y)}function Rs(c,y){c.H&&ce(c.H,function(_,A){Qe(y,A,_)}),c.l&&Lo({},function(_,A){Qe(y,A,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=z[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ve=!0;for(let wt=0;wt<_;wt++){let ke=z[wt].g;const Mt=z[wt].map;if(ke-=Q,0>ke)Q=Math.max(0,z[wt].g-100),Ve=!1;else try{ti(Mt,oe,"req"+ke+"_")}catch{A&&A(Mt)}}if(Ve){A=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||x(),pe||(le(),pe=!0),ze.add(y,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),_a(this),Bu(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(dn(y)),_.m=null,_.P=!0,Ii(_,c)}i.Za=function(){this.C!=null&&(this.C=null,_a(this),Ko(this),tt(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Ea(c),Is(c),c.g=null;var A=2}else if(ko(c.h,y))_=y.D,tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=or(),Fe(A,new At(A,_)),va(c)}else zu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Tf(c,y)||A==2&&Ko(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),A=c.Xa;const z=!A;A=new _t(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(A,"https"),vs(A),z?Ts(A.toString(),_):jn(A.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var A=_ instanceof _t?dn(_):new _t(_);if(A.g!="")y&&(A.g=y+"."+A.g),fr(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new _t(null);A&&_s(Q,A),y&&(Q.g=y),z&&fr(Q,z),_&&(Q.l=_),A=Q}return _=c.D,y=c.ya,_&&y&&Qe(A,_,y),Qe(A,"VER",c.la),Rs(c,A),A}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new dr({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){lt.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}M(nn,lt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Fo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Mu(y.Ya++,c)),y.G==3&&va(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,nn.aa.N.call(this)};function Qu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Qu,Si);function $u(){Oo.call(this),this.status=1}M($u,Oo);function si(c){this.g=c}M(si,Ku),si.prototype.ua=function(){Fe(this.g,"a")},si.prototype.ta=function(c){Fe(this.g,new Qu(c))},si.prototype.sa=function(c){Fe(this.g,new $u)},si.prototype.ra=function(){Fe(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,QT=function(){return new Ta},KT=function(){return or()},GT=Xn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,hh=cr,Ri.COMPLETE="complete",FT=Ri,xo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Gl=xo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,qT=He}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const T0="@firebase/firestore",b0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new _p("@firebase/firestore");function Xa(){return Ws.logLevel}function he(i,...e){if(Ws.logLevel<=Me.DEBUG){const n=e.map(Dp);Ws.debug(`Firestore (${To}): ${i}`,...n)}}function ir(i,...e){if(Ws.logLevel<=Me.ERROR){const n=e.map(Dp);Ws.error(`Firestore (${To}): ${i}`,...n)}}function oo(i,...e){if(Ws.logLevel<=Me.WARN){const n=e.map(Dp);Ws.warn(`Firestore (${To}): ${i}`,...n)}}function Dp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+i;throw ir(e),new Error(e)}function qe(i,e){i||be()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new $T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Wt(e)}}class KC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new KC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $C{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new A0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new A0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Km(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=YT(),f=XC(u.encode(w0(i,n)),u.encode(w0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function w0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function XC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function lo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,R0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*R0);return new Ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ct(0,0))}static max(){return new we(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class et extends fi{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const WC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends fi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return WC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new Gt([I0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function ZC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Ct(n+1,0):new Ct(n,s));return new Yr(o,ge.empty(),e)}function JC(i){return new Yr(i.readTime,i.key,ru)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(we.min(),ge.empty(),ru)}static max(){return new Yr(we.max(),ge.empty(),ru)}}function eN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==tN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function iN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function Yh(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function rN(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="";function sN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=C0(e)),e=aN(i.get(n),e);return C0(e)}function aN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case WT:n+="";break;default:n+=u}}return n}function C0(i){return i+WT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ZT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Nt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JT("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(qe(!!i),typeof i=="string"){let e=0;const n=oN.exec(i);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",t1="__type__",n1="__previous_value__",i1="__local_write_time__";function Op(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[t1])===null||n===void 0?void 0:n.stringValue)===e1}function Xh(i){const e=i.mapValue.fields[n1];return Op(e)?Xh(e):e}function su(i){const e=Xr(i.mapValue.fields[i1].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ch="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",uN="__max__",Jc={mapValue:{}},s1="__vector__",Nh="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Op(i)?4:hN(i)?9007199254740991:cN(i)?10:11:be()}function Ei(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return su(i).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xr(o.timestampValue),m=Xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(N0(f)!==N0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(i,e);default:return be()}}function ou(i,e){return(i.values||[]).find(n=>Ei(n,e))!==void 0}function uo(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return x0(i.timestampValue,e.timestampValue);case 4:return x0(su(i),su(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Wr(u),p=Wr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(gt(u.latitude),gt(f.latitude));return m!==0?m:Ce(gt(u.longitude),gt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return O0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},S=f.fields||{},V=(m=w[Nh])===null||m===void 0?void 0:m.arrayValue,M=(p=S[Nh])===null||p===void 0?void 0:p.arrayValue,$=Ce(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:O0(V,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Km(p[w],E[w]);if(S!==0)return S;const V=uo(m[p[w]],g[E[w]]);if(V!==0)return V}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function x0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Xr(i),s=Xr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function O0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function co(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"}(i.mapValue):be()}function fh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(i);return e?16+fh(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+fh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+fh(f)}),o}(i.mapValue);default:throw be()}}function M0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function P0(i){return!!i&&"nullValue"in i}function V0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function cN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[r1])===null||n===void 0?void 0:n.stringValue)===s1}function Xl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Xl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function hN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===uN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Xl(this.value))}}function a1(i){const e=[];return is(i.fields,(n,s)=>{const o=new Gt([n]);if(dh(s)){const u=a1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function k0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ei(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{}class bt extends o1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mN(e,n,s):n==="array-contains"?new yN(e,s):n==="in"?new _N(e,s):n==="not-in"?new vN(e,s):n==="array-contains-any"?new EN(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pN(e,s):new gN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends o1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Qn(e,n)}matches(e){return l1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function l1(i){return i.op==="and"}function u1(i){return dN(i)&&l1(i)}function dN(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function Ym(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+co(i.value);if(u1(i))return i.filters.map(e=>Ym(e)).join(",");{const e=i.filters.map(n=>Ym(n)).join(",");return`${i.op}(${e})`}}function c1(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(i,e):i instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&c1(f,o.filters[m]),!0):!1}(i,e):void be()}function h1(i){return i instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"}(i):"Filter"}class mN extends bt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class pN extends bt{constructor(e,n){super(e,"in",n),this.keys=f1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gN extends bt{constructor(e,n){super(e,"not-in",n),this.keys=f1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f1(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class yN extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&ou(n.arrayValue,this.value)}}class _N extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class vN extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class EN extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function L0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new TN(i,e,n,s,o,u,f)}function Pp(i){const e=Se(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.le=n}return e.le}function Vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!fN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!c1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!U0(i.startAt,e.startAt)&&U0(i.endAt,e.endAt)}function Xm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bN(i,e,n,s,o,u,f,m){return new vu(i,e,n,s,o,u,f,m)}function kp(i){return new vu(i)}function j0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function d1(i){return i.collectionGroup!==null}function Wl(i){const e=Se(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new xh(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new xh(Gt.keyField(),s))}return e.he}function _i(i){const e=Se(i);return e.Pe||(e.Pe=AN(e,Wl(i))),e.Pe}function AN(i,e){if(i.limitType==="F")return L0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)});const n=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return L0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wm(i,e){const n=i.filters.concat([e]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Zm(i,e,n){return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wh(i,e){return Vp(_i(i),_i(e))&&i.limitType===e.limitType}function m1(i){return`${Pp(_i(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>h1(o)).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Zh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=k0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Wl(s),o)||s.endAt&&!function(f,m,p){const g=k0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Wl(s),o))}(i,e)}function wN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function p1(i){return(e,n)=>{let s=!1;for(const o of Wl(i)){const u=SN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SN(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new at(ge.comparator);function rr(){return RN}const g1=new at(ge.comparator);function Kl(...i){let e=g1;for(const n of i)e=e.insert(n.key,n);return e}function y1(i){let e=g1;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return Zl()}function _1(){return Zl()}function Zl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const IN=new at(ge.comparator),CN=new Nt(ge.comparator);function Pe(...i){let e=CN;for(const n of i)e=e.add(n);return e}const NN=new Nt(Ce);function DN(){return NN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function v1(i){return{integerValue:""+i}}function xN(i,e){return rN(e)?v1(e):Up(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function ON(i,e,n){return i instanceof lu?function(o,u){const f={fields:{[t1]:{stringValue:e1},[i1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Op(u)&&(u=Xh(u)),u&&(f.fields[n1]=u),{mapValue:f}}(n,e):i instanceof uu?T1(i,e):i instanceof cu?b1(i,e):function(o,u){const f=E1(o,u),m=z0(f)+z0(o.Ie);return $m(f)&&$m(o.Ie)?v1(m):Up(o.serializer,m)}(i,e)}function MN(i,e,n){return i instanceof uu?T1(i,e):i instanceof cu?b1(i,e):n}function E1(i,e){return i instanceof Oh?function(s){return $m(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lu extends Jh{}class uu extends Jh{constructor(e){super(),this.elements=e}}function T1(i,e){const n=A1(e);for(const s of i.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class cu extends Jh{constructor(e){super(),this.elements=e}}function b1(i,e){let n=A1(e);for(const s of i.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class Oh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function z0(i){return gt(i.integerValue||i.doubleValue)}function A1(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.field=e,this.transform=n}}function VN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?lo(s.elements,o.elements,Ei):s instanceof Oh&&o instanceof Oh?Ei(s.Ie,o.Ie):s instanceof lu&&o instanceof lu}(i.transform,e.transform)}class kN{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ef{}function w1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Lp(i.key,Fn.none()):new Eu(i.key,i.data,Fn.none());{const n=i.data,s=cn.empty();let o=new Nt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(i.key,s,new bn(o.toArray()),Fn.none())}}function UN(i,e,n){i instanceof Eu?function(o,u,f){const m=o.value.clone(),p=H0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof rs?function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=H0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(S1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Jl(i,e,n,s){return i instanceof Eu?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=q0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof rs?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=q0(u.fieldTransforms,p,f),E=f.data;return E.setAll(S1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function LN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=E1(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function B0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>VN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends ef{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends ef{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function H0(i,e,n){const s=new Map;qe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,MN(f,m,n[o]))}return s}function q0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ON(u,f,e))}return s}class Lp extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends ef{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=w1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,s)=>B0(n,s))&&lo(this.baseMutations,e.baseMutations,(n,s)=>B0(n,s))}}class jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return IN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function qN(i){switch(i){case te.OK:return be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be()}}function R1(i){if(i===void 0)return ir("GRPC error has no .code"),te.UNKNOWN;switch(i){case Tt.OK:return te.OK;case Tt.CANCELLED:return te.CANCELLED;case Tt.UNKNOWN:return te.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return te.INTERNAL;case Tt.UNAVAILABLE:return te.UNAVAILABLE;case Tt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Tt.NOT_FOUND:return te.NOT_FOUND;case Tt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Tt.ABORTED:return te.ABORTED;case Tt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Tt.DATA_LOSS:return te.DATA_LOSS;default:return be()}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new Gr([4294967295,4294967295],0);function F0(i){const e=YT().encode(i),n=new HT;return n.update(e),new Uint8Array(n.digest())}function G0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Gr.fromNumber(s)));return o.compare(FN)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new tf(we.min(),o,new at(Ce),rr(),Pe())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class I1{constructor(e,n){this.targetId=e,this.ge=n}}class C1{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class K0{constructor(){this.pe=0,this.ye=Q0(),this.we=Kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Tu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Q0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class GN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rr(),this.$e=eh(),this.Ue=eh(),this.Ke=new at(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Zt.newNoDocument(f,we.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(p){if(p instanceof JT)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(f,o,u)}catch(p){return oo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Xm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new tf(e,n,this.Ke,this.Qe,s);return this.Qe=rr(),this.$e=eh(),this.Ue=eh(),this.Ke=new at(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new K0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Nt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new K0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function eh(){return new at(ge.comparator)}function Q0(){return new at(ge.comparator)}const KN={asc:"ASCENDING",desc:"DESCENDING"},QN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class YN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function XN(i,e){return Mh(i,e.toTimestamp())}function vi(i){return qe(!!i),we.fromTimestamp(function(n){const s=Xr(n);return new Ct(s.seconds,s.nanos)}(i))}function Bp(i,e){return ep(i,e).canonicalString()}function ep(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function D1(i){const e=et.fromString(i);return qe(V1(e)),e}function tp(i,e){return Bp(i.databaseId,e.path)}function Im(i,e){const n=D1(e);if(n.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(O1(n))}function x1(i,e){return Bp(i.databaseId,e)}function WN(i){const e=D1(i);return e.length===4?et.emptyPath():O1(e)}function np(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function O1(i){return qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $0(i,e,n){return{name:tp(i,e),fields:n.value.mapValue.fields}}function ZN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(qe(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:R1(g.code);return new de(E,g.message||"")}(f);n=new C1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(i,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(i,s.document),u=s.readTime?vi(s.readTime):we.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(i,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HN(o,u),m=s.targetId;n=new I1(m,f)}}return n}function JN(i,e){let n;if(e instanceof Eu)n={update:$0(i,e.key,e.value)};else if(e instanceof Lp)n={delete:tp(i,e.key)};else if(e instanceof rs)n={update:$0(i,e.key,e.data),updateMask:l4(e.fieldMask)};else{if(!(e instanceof jN))return be();n={verify:tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:XN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),n}function e4(i,e){return i&&i.length>0?(qe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(we.min())&&(f=vi(u)),new kN(f,o.transformResults||[])}(n,e))):[]}function t4(i,e){return{documents:[x1(i,e.path)]}}function n4(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=x1(i,o);const u=function(g){if(g.length!==0)return P1(Qn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Za(S.field),direction:s4(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function i4(i){let e=WN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=M1(w);return S instanceof Qn&&u1(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(S=>function(M){return new xh(Ja(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Yh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,V=w.values||[];return new Dh(V,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,V=w.values||[];return new Dh(V,S)}(n.endAt)),bN(e,o,f,u,m,"F",p,g)}function r4(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return bt.create(Ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>M1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function s4(i){return KN[i]}function a4(i){return QN[i]}function o4(i){return $N[i]}function Za(i){return{fieldPath:i.canonicalString()}}function Ja(i){return Gt.fromServerFormat(i.fieldPath)}function P1(i){return i instanceof bt?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(P0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(P0(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:a4(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(o=>P1(o));return s.length===1?s[0]:{compositeFilter:{op:o4(n.op),filters:s}}}(i):be()}function l4(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.Tt=e}}function c4(i){const e=i4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.Tn=new f4}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Yr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class f4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k1=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(k1,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ho(0)}static Kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LruGarbageCollector",d4=1048576;function W0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class m4{constructor(e){this.Hn=e,this.buffer=new Nt(W0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(X0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?he(X0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.er(3e5)})}}class g4{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve($h.ae);const s=new m4(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Y0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Xa()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function y4(i,e){return new g4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Jl(s.mutation,o,bn.empty(),Ct.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=rr();const f=Zl(),m=function(){return Zl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Jl(E.mutation,g,E.mutation.getFieldMask(),Ct.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new v4(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new at((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=_1();E.forEach(S=>{if(!u.has(S)){const V=w1(n.get(S),s.get(S));V!==null&&w.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Fs());let m=ru,p=u;return f.next(g=>ee.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:m,changes:y1(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(w,S){return new vu(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{f=f.insert(w,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Kl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,g,bn.empty(),Ct.now()),Zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:c4(o.bundledQuery),readTime:vi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Fs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new BN(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new Nt(Ut.mr),this.gr=new Nt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Ut.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?xp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ce);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ge(u),0);let m=new Nt(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=rr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||eN(JC(E),s)<=0||(o.has(E.key)||Zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new R4(this)}getSize(e){return ee.resolve(this.size)}}class R4 extends _4{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.Qr=new na(n=>Pp(n),Vp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hp,this.targetCount=0,this.Kr=ho.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new $h(0),this.zr=!1,this.zr=!0,this.jr=new A4,this.referenceDelegate=e(this),this.Hr=new I4(this),this.indexManager=new h4,this.remoteDocumentCache=function(o){return new S4(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new u4(n),this.Yr=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new w4(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new C4(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class C4 extends nN{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new qp(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.oi=new na(s=>sN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=y4(this,n)}static ri(e,n){return new Ph(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aR()?8:iN(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new N4;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Xa()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Xa()<=Me.DEBUG&&he("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Xa()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):ee.resolve())}rs(e,n){if(j0(n))return ee.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Zm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return j0(n)||o.isEqual(we.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(Xa()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.hs(e,f,n,ZC(o,ru)).next(m=>m))})}cs(e,n){let s=new Nt(p1(e));return n.forEach((o,u)=>{Zh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Xa()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ns.getDocumentsMatchingQuery(e,n,Yr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",x4=3e8;class O4{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ce),this.Is=new na(u=>Pp(u),Vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function M4(i,e,n,s){return new O4(i,e,n,s)}async function L1(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function P4(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,S=w.keys();let V=ee.resolve();return S.forEach(M=>{V=V.next(()=>E.getEntry(p,M)).next($=>{const L=g.docVersions.get(M);qe(L!==null),$.version.compareTo(L)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function j1(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function V4(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?V=V.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(w,V),function($,L,K){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=x4?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,V,E)&&m.push(n.Hr.updateTargetData(u,V))});let p=rr(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(k4(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function k4(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Gp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function U4(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function L4(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ip(i,e,n){const s=Se(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ao(f))throw f;he(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Z0(i,e,n){const s=Se(i);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Se(p),S=w.Is.get(E);return S!==void 0?ee.resolve(w.Ts.get(S)):w.Hr.getTargetData(g,E)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Pe())).next(m=>(j4(s,wN(e),m),{documents:m,gs:u})))}function j4(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class J0{constructor(){this.activeTargetIds=DN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z4{constructor(){this.ho=new J0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function rp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=rp(),m=this.bo(e,n.toUriEncodedString());he(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(he(Cm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw oo(Cm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=H4[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class G4 extends q4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=rp();return new Promise((f,m)=>{const p=new qT;p.setWithCredentials(!0),p.listenOnce(FT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const E=p.getResponseJson();he(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case hh.TIMEOUT:he(Xt,`RPC '${e}' ${u} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=p.getStatus();if(he(Xt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const M=function(L){const K=L.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN}(V.status);m(new de(M,V.message))}else m(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(Xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=rp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QT(),m=KT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let S=!1,V=!1;const M=new F4({Fo:L=>{V?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Mo:()=>w.close()}),$=(L,K,re)=>{L.listen(K,Z=>{try{re(Z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return $(w,Gl.EventType.OPEN,()=>{V||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),$(w,Gl.EventType.CLOSE,()=>{V||(V=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),$(w,Gl.EventType.ERROR,L=>{V||(V=!0,oo(Xt,`RPC '${e}' stream ${o} transport errored:`,L),M.Uo(new de(te.UNAVAILABLE,"The operation could not be completed")))}),$(w,Gl.EventType.MESSAGE,L=>{var K;if(!V){const re=L.data[0];qe(!!re);const Z=re,ie=(Z==null?void 0:Z.error)||((K=Z[0])===null||K===void 0?void 0:K.error);if(ie){he(Xt,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let ce=function(I){const O=Tt[I];if(O!==void 0)return R1(O)}(se),N=ie.message;ce===void 0&&(ce=te.INTERNAL,N="Unknown error status: "+se+" with message "+ie.message),V=!0,M.Uo(new de(ce,N)),w.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,re),M.Ko(re)}}),$(m,GT.STAT_EVENT,L=>{L.stat===Gm.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Gm.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(i){return new YN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class B1{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new z1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K4 extends B1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=ZN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?vi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:t4(u,p)}:{query:n4(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=N1(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=r4(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.I_(n)}}class Q4 extends B1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=e4(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=np(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>JN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{}class Y4 extends $4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,ep(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,ep(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class X4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ir(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class W4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ia(this)&&(he(Zs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await bu(g),g.j_.set("Unknown"),g.W_.delete(4),await rf(g)}(this))})}),this.j_=new X4(s,o)}}async function rf(i){if(ia(i))for(const e of i.G_)await e(!0)}async function bu(i){for(const e of i.G_)await e(!1)}function H1(i,e){const n=Se(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Yp(n)?$p(n):wo(n).c_()&&Qp(n,e))}function Kp(i,e){const n=Se(i),s=wo(n);n.K_.delete(e),s.c_()&&q1(n,e),n.K_.size===0&&(s.c_()?s.P_():ia(n)&&n.j_.set("Unknown"))}function Qp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(i).y_(e)}function q1(i,e){i.H_.Ne(e),wo(i).w_(e)}function $p(i){i.H_=new GN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),wo(i).start(),i.j_.B_()}function Yp(i){return ia(i)&&!wo(i).u_()&&i.K_.size>0}function ia(i){return Se(i).W_.size===0}function F1(i){i.H_=void 0}async function Z4(i){i.j_.set("Online")}async function J4(i){i.K_.forEach((e,n)=>{Qp(i,e)})}async function eD(i,e){F1(i),Yp(i)?(i.j_.q_(e),$p(i)):i.j_.set("Unknown")}async function tD(i,e,n){if(i.j_.set("Online"),e instanceof C1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){he(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(i,s)}else if(e instanceof ph?i.H_.We(e):e instanceof I1?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await j1(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),q1(u,p);const w=new Br(E.target,p,g,E.sequenceNumber);Qp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){he(Zs,"Failed to raise snapshot:",s),await Vh(i,s)}}async function Vh(i,e,n){if(!Ao(e))throw e;i.W_.add(1),await bu(i),i.j_.set("Offline"),n||(n=()=>j1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Zs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await rf(i)})}function G1(i,e){return e().catch(n=>Vh(i,n,e))}async function sf(i){const e=Se(i),n=Jr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:xp;for(;nD(e);)try{const o=await U4(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,iD(e,o)}catch(o){await Vh(e,o)}K1(e)&&Q1(e)}function nD(i){return ia(i)&&i.U_.length<10}function iD(i,e){i.U_.push(e);const n=Jr(i);n.c_()&&n.S_&&n.b_(e.mutations)}function K1(i){return ia(i)&&!Jr(i).u_()&&i.U_.length>0}function Q1(i){Jr(i).start()}async function rD(i){Jr(i).C_()}async function sD(i){const e=Jr(i);for(const n of i.U_)e.b_(n.mutations)}async function aD(i,e,n){const s=i.U_.shift(),o=jp.from(s,e,n);await G1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await sf(i)}async function oD(i,e){e&&Jr(i).S_&&await async function(s,o){if(function(f){return qN(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();Jr(s).h_(),await G1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await sf(s)}}(i,e),K1(i)&&Q1(i)}async function iE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),he(Zs,"RemoteStore received new credentials");const s=ia(n);n.W_.add(3),await bu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await rf(n)}async function lD(i,e){const n=Se(i);e?(n.W_.delete(2),await rf(n)):e||(n.W_.add(2),await bu(n),n.j_.set("Unknown"))}function wo(i){return i.J_||(i.J_=function(n,s,o){const u=Se(n);return u.M_(),new K4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:Z4.bind(null,i),No:J4.bind(null,i),Lo:eD.bind(null,i),p_:tD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Yp(i)?$p(i):i.j_.set("Unknown")):(await i.J_.stop(),F1(i))})),i.J_}function Jr(i){return i.Y_||(i.Y_=function(n,s,o){const u=Se(n);return u.M_(),new Q4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:rD.bind(null,i),Lo:oD.bind(null,i),D_:sD.bind(null,i),v_:aD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await sf(i)):(await i.Y_.stop(),i.U_.length>0&&(he(Zs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Xp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(i,e){if(ir("AsyncQueue",`${e}: ${i}`),Ao(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class cD{constructor(){this.queries=sE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=sE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function sE(){return new na(i=>m1(i),Wh)}async function hD(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new uD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Wp(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Zp(n)}async function fD(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Zp(n)}function mD(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Zp(i){i.ia.forEach(e=>{e.next()})}var sp,aE;(aE=sp||(sp={}))._a="default",aE.Cache="cache";class pD{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.key=e}}class Y1{constructor(e){this.key=e}}class gD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=p1(e),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new rE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),V=Zh(this.query,w)?w:null,M=!!S&&this.mutatedKeys.has(S.key),$=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;S&&V?S.data.isEqual(V.data)?M!==$&&(s.track({type:3,doc:V}),L=!0):this.va(S,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),L=!0):S&&!V&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(V?(f=f.add(V),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(V,M){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return $(V)-$(M)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new fo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Y1(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new $1(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jp="SyncEngine";class yD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _D{constructor(e){this.key=e,this.Ba=!1}}class vD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>m1(m),Wh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ua=new Map,this.Ka=new Hp,this.Wa={},this.Ga=new Map,this.za=ho.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ED(i,e,n=!0){const s=tb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await X1(s,e,n,!0),o}async function TD(i,e){const n=tb(i);await X1(n,e,!0,!1)}async function X1(i,e,n,s){const o=await L4(i.localStore,_i(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&H1(i.remoteStore,o),m}async function bD(i,e,n,s,o){i.Ha=(w,S,V)=>async function($,L,K,re){let Z=L.view.ba(K);Z.ls&&(Z=await Z0($.localStore,L.query,!1).then(({documents:N})=>L.view.ba(N,Z)));const ie=re&&re.targetChanges.get(L.targetId),se=re&&re.targetMismatches.get(L.targetId)!=null,ce=L.view.applyChanges(Z,$.isPrimaryClient,ie,se);return lE($,L.targetId,ce.Ma),ce.snapshot}(i,w,S,V);const u=await Z0(i.localStore,e,!0),f=new gD(e,u.gs),m=f.ba(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);lE(i,n,g.Ma);const E=new yD(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function AD(i,e,n){const s=Se(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Wh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kp(s.remoteStore,o.targetId),ap(s,o.targetId)}).catch(bo)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function wD(i,e){const n=Se(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function SD(i,e,n){const s=OD(i);try{const o=await function(f,m){const p=Se(f),g=Ct.now(),E=m.reduce((V,M)=>V.add(M.key),Pe());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let M=rr(),$=Pe();return p.ds.getEntries(V,E).next(L=>{M=L,M.forEach((K,re)=>{re.isValidDocument()||($=$.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,M)).next(L=>{w=L;const K=[];for(const re of m){const Z=LN(re,w.get(re.key).overlayedDocument);Z!=null&&K.push(new rs(re.key,Z,a1(Z.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,K,m)}).next(L=>{S=L;const K=L.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(V,L.batchId,K)})}).then(()=>({batchId:S.batchId,changes:y1(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new at(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Au(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");n.reject(u)}}async function W1(i,e){const n=Se(i);try{const s=await V4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await Au(n,s,e)}catch(s){await bo(s)}}function oE(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const S of w.ta)S.sa(m)&&(g=!0)}),g&&Zp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function RD(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,we.min()));const m=Pe().add(u),p=new tf(we.min(),new Map,new at(Ce),f,m);await W1(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),eg(s)}else await ip(s.localStore,e,!1).then(()=>ap(s,e,n)).catch(bo)}async function ID(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await P4(n.localStore,e);J1(n,s,null),Z1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await bo(o)}}async function CD(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(qe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);J1(s,e,n),Z1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await bo(o)}}function Z1(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function J1(i,e,n){const s=Se(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||eb(i,s)})}function eb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Kp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),eg(i))}function lE(i,e,n){for(const s of n)s instanceof $1?(i.Ka.addReference(s.key,e),ND(i,s)):s instanceof Y1?(he(Jp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||eb(i,s.key)):be()}function ND(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(he(Jp,"New document in limbo: "+n),i.Qa.add(s),eg(i))}function eg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ge(et.fromString(e)),s=i.za.next();i.Ua.set(s,new _D(n)),i.$a=i.$a.insert(n,s),H1(i.remoteStore,new Br(_i(kp(n.path)),s,"TargetPurposeLimboResolution",$h.ae))}}async function Au(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Fp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,S=>ee.forEach(S.Hi,V=>E.persistence.referenceDelegate.addReference(w,S.targetId,V)).next(()=>ee.forEach(S.Ji,V=>E.persistence.referenceDelegate.removeReference(w,S.targetId,V)))))}catch(w){if(!Ao(w))throw w;he(Gp,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const V=E.Ts.get(S),M=V.snapshotVersion,$=V.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(S,$)}}}(s.localStore,u))}async function DD(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){he(Jp,"User change. New user:",e.toKey());const s=await L1(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Rs)}}function xD(i,e){const n=Se(i),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function tb(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RD.bind(null,e),e.La.p_=dD.bind(null,e.eventManager),e.La.Ja=mD.bind(null,e.eventManager),e}function OD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return M4(this.persistence,new D4,e.initialUser,this.serializer)}Xa(e){return new U1(qp.ri,this.serializer)}Za(e){return new z4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class MD extends kh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof Ph);const s=this.persistence.referenceDelegate.garbageCollector;return new p4(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new U1(s=>Ph.ri(s,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cD}()}createDatastore(e){const n=nf(e.databaseInfo.databaseId),s=function(u){return new G4(u)}(e.databaseInfo);return function(u,f,m,p){return new Y4(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new W4(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>oE(this.syncEngine,n,0),function(){return tE.D()?new tE:new B4}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new vD(o,u,f,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);he(Zs,"RemoteStore shutting down."),u.W_.add(5),await bu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class VD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),he(es,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await L1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function uE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await kD(i);he(es,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>iE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>iE(e.remoteStore,o)),i._onlineComponents=e}async function kD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(es,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Dm(i,new kh)}}else he(es,"Using default OfflineComponentProvider"),await Dm(i,new MD(void 0));return i._offlineComponents}async function nb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(es,"Using user provided OnlineComponentProvider"),await uE(i,i._uninitializedComponentsProvider._online)):(he(es,"Using default OnlineComponentProvider"),await uE(i,new op))),i._onlineComponents}function UD(i){return nb(i).then(e=>e.syncEngine)}async function cE(i){const e=await nb(i),n=e.eventManager;return n.onListen=ED.bind(null,e.syncEngine),n.onUnlisten=AD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(i,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function LD(i,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fE(i){if(!ge.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(ge.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function af(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Kr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firestore.googleapis.com",mE=!0;class pE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sb,this.ssl=mE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d4)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ib((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qC;switch(s.type){case"firstParty":return new QC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=hE.get(n);s&&(he("ComponentProvider","Removing Datastore"),hE.delete(n),s.terminate())}(this),Promise.resolve()}}function jD(i,e,n,s={}){var o;const u=(i=Kr(i,of))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==sb&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Qs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=nT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}i._authCredentials=new FC(new $T(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class hn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Qr extends So{constructor(e,n,s){super(e,n,kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ge(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function gE(i,e,...n){if(i=rt(i),rb("collection","path",e),i instanceof of){const s=et.fromString(e,...n);return dE(s),new Qr(i,null,s)}{if(!(i instanceof hn||i instanceof Qr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return dE(s),new Qr(i.firestore,null,s)}}function gh(i,e,...n){if(i=rt(i),arguments.length===1&&(e=XT.newId()),rb("doc","path",e),i instanceof of){const s=et.fromString(e,...n);return fE(s),new hn(i,null,new ge(s))}{if(!(i instanceof hn||i instanceof Qr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return fE(s),new hn(i.firestore,i instanceof Qr?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new z1(this,"async_queue_retry"),this.Su=()=>{const s=Nm();s&&he(yE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Gs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ao(e))throw e;he(yE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ir("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Xp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function vE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class mo extends of{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new _E,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function zD(i,e){const n=typeof i=="object"?i:Ep(),s=typeof i=="string"?i:Ch,o=Fh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=JE("firestore");u&&jD(o,...u)}return o}function ab(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BD(i),i._firestoreClient}function BD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new lN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ib(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new VD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Kt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^__.*__$/;class qD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class ob{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class ig{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Uh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(lb(this.Lu)&&HD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class FD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nf(e)}ju(e,n,s,o=!1){return new ig({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(i){const e=i._freezeSettings(),n=nf(i._databaseId);return new FD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function GD(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",f,s);const m=ub(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=lp(e,w,n);if(!f.contains(S))throw new de(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hb(E,S)||E.push(S)}p=new bn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new qD(new cn(m),p,g)}class cf extends uf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}class sg extends uf{_toFieldTransform(e){return new PN(e.path,new lu)}isEqual(e){return e instanceof sg}}function KD(i,e,n,s){const o=i.ju(1,e,n);ag("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();is(s,(p,g)=>{const E=og(e,p,n);g=rt(g);const w=o.Uu(E);if(g instanceof cf)u.push(E);else{const S=wu(g,w);S!=null&&(u.push(E),f.set(E,S))}});const m=new bn(u);return new ob(f,m,o.fieldTransforms)}function QD(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[lp(e,s,n)],p=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(lp(e,u[S])),p.push(u[S+1]);const g=[],E=cn.empty();for(let S=m.length-1;S>=0;--S)if(!hb(g,m[S])){const V=m[S];let M=p[S];M=rt(M);const $=f.Uu(V);if(M instanceof cf)g.push(V);else{const L=wu(M,$);L!=null&&(g.push(V),E.set(V,L))}}const w=new bn(g);return new ob(E,w,f.fieldTransforms)}function $D(i,e,n,s=!1){return wu(n,i.ju(s?4:3,e))}function wu(i,e){if(cb(i=rt(i)))return ag("Unsupported field value:",e,i),ub(i,e);if(i instanceof uf)return function(s,o){if(!lb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=wu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof tg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:N1(o.serializer,s._byteString)};if(s instanceof hn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ng)return function(f,m){return{mapValue:{fields:{[r1]:{stringValue:s1},[Nh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Up(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${af(s)}`)}(i,e)}function ub(i,e){const n={};return ZT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,(s,o)=>{const u=wu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function cb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof tg||i instanceof po||i instanceof hn||i instanceof uf||i instanceof ng)}function ag(i,e,n){if(!cb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=af(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function lp(i,e,n){if((e=rt(e))instanceof lf)return e._internalPath;if(typeof e=="string")return og(i,e);throw Uh("Field path arguments must be of type string or ",i,!1,void 0,n)}const YD=new RegExp("[~\\*/\\[\\]]");function og(i,e,n){if(e.search(YD)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Uh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+i+p)}function hb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XD extends fb{data(){return super.data()}}function lg(i,e){return typeof e=="string"?og(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class ZD extends ug{}function JD(i,e,...n){let s=[];e instanceof ug&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof cg).length,m=u.filter(p=>p instanceof hf).length;if(f>1||f>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class hf extends ZD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hf(e,n,s)}_apply(e){const n=this._parse(e);return db(e._query,n),new So(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=rg(e.firestore);return function(u,f,m,p,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TE(w,E);const M=[];for(const $ of w)M.push(EE(p,u,$));S={arrayValue:{values:M}}}else S=EE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TE(w,E),S=$D(m,f,w,E==="in"||E==="not-in");return bt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ex(i,e,n){const s=e,o=lg("where",i);return hf._create(o,s,n)}class cg extends ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)db(f,p),f=Wm(f,p)}(e._query,n),new So(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EE(i,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!ge.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M0(i,new ge(s))}if(n instanceof hn)return M0(i,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function TE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function db(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tx{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Nh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new ng(u)}convertGeoPoint(e){return new tg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);qe(V1(s));const o=new au(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mb extends fb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class yh extends mb{data(e={}){return super.data(e)}}class ix{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:rx(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class pb extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function bE(i,e,n,...s){i=Kr(i,hn);const o=Kr(i.firestore,mo),u=rg(o);let f;return f=typeof(e=rt(e))=="string"||e instanceof lf?QD(u,"updateDoc",i._key,e,n,s):KD(u,"updateDoc",i._key,e),hg(o,[f.toMutation(i._key,Fn.exists(!0))])}function sx(i){return hg(Kr(i.firestore,mo),[new Lp(i._key,Fn.none())])}function ax(i,e){const n=Kr(i.firestore,mo),s=gh(i),o=nx(i.converter,e);return hg(n,[GD(rg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function ox(i,...e){var n,s,o;i=rt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||vE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(vE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(i instanceof hn)g=Kr(i.firestore,mo),E=kp(i._key.path),p={next:w=>{e[f]&&e[f](lx(g,i,w))},error:e[f+1],complete:e[f+2]};else{const w=Kr(i,So);g=Kr(w.firestore,mo),E=w._query;const S=new pb(g);p={next:V=>{e[f]&&e[f](new ix(g,S,w,V))},error:e[f+1],complete:e[f+2]},WD(i._query)}return function(S,V,M,$){const L=new PD($),K=new pD(V,L,M);return S.asyncQueue.enqueueAndForget(async()=>hD(await cE(S),K)),()=>{L.su(),S.asyncQueue.enqueueAndForget(async()=>fD(await cE(S),K))}}(ab(g),E,m,p)}function hg(i,e){return function(s,o){const u=new Gs;return s.asyncQueue.enqueueAndForget(async()=>SD(await UD(s),o,u)),u.promise}(ab(i),e)}function lx(i,e,n){const s=n.docs.get(e._key),o=new pb(i);return new mb(i,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function xm(){return new sg("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(ea),$s(new $r("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new mo(new GC(s.getProvider("auth-internal")),new $C(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),pi(T0,b0,e),pi(T0,b0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebasestorage.googleapis.com",yb="storageBucket",ux=2*60*1e3,cx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends bi{constructor(e,n,s=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Om(i){return"storage/"+i}function fg(){const i="An unknown error occurred, please check the error payload for server response.";return new ft(ht.UNKNOWN,i)}function hx(i){return new ft(ht.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function fx(i){return new ft(ht.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dx(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ht.UNAUTHENTICATED,i)}function mx(){return new ft(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function px(i){return new ft(ht.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function gx(){return new ft(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yx(){return new ft(ht.CANCELED,"User canceled the upload/download.")}function _x(i){return new ft(ht.INVALID_URL,"Invalid URL '"+i+"'.")}function vx(i){return new ft(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function Ex(){return new ft(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yb+"' property when initializing the app?")}function Tx(){return new ft(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bx(){return new ft(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ax(i){return new ft(ht.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function up(i){return new ft(ht.INVALID_ARGUMENT,i)}function _b(){return new ft(ht.APP_DELETED,"The Firebase app was deleted.")}function wx(i){return new ft(ht.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(i,e){return new ft(ht.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Ll(i){throw new ft(ht.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(s.path==="")return s;throw vx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",V=new RegExp(`^https?://${w}/${E}/b/${o}/o${S}`,"i"),M={bucket:1,path:3},$=n===gb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",K=new RegExp(`^https?://${$}/${o}/${L}`,"i"),Z=[{regex:m,indices:p,postModify:u},{regex:V,indices:M,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<Z.length;ie++){const se=Z[ie],ce=se.regex.exec(e);if(ce){const N=ce[se.indices.bucket];let R=ce[se.indices.path];R||(R=""),s=new An(N,R),se.postModify(s);break}}if(s==null)throw _x(e);return s}}class Sx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,i(V,p())},L)}function S(){u&&clearTimeout(u)}function V(L,...K){if(g){S();return}if(L){S(),E.call(null,L,...K);return}if(p()||f){S(),E.call(null,L,...K);return}s<64&&(s*=2);let Z;m===1?(m=2,Z=0):Z=(s+Math.random())*1e3,w(Z)}let M=!1;function $(L){M||(M=!0,S(),!g&&(o!==null?(L||(m=2),clearTimeout(o),w(0)):L||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,$(!0)},n),$}function Ix(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i){return i!==void 0}function Nx(i){return typeof i=="object"&&!Array.isArray(i)}function dg(i){return typeof i=="string"||i instanceof String}function AE(i){return mg()&&i instanceof Blob}function mg(){return typeof Blob<"u"}function wE(i,e,n,s){if(s<e)throw up(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw up(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function vb(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ks;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ks||(Ks={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s,o,u,f,m,p,g,E,w,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,M)=>{this.resolve_=V,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ks.NO_ERROR,p=u.getStatus();if(!m||Dx(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ks.ABORT;s(!1,new nh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new nh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Cx(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=fg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?_b():yx();f(p)}else{const p=gx();f(p)}};this.canceled_?n(!1,new nh(!1,null,!0)):this.backoffId_=Rx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ix(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Ox(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Mx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Px(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Vx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function kx(i,e,n,s,o,u,f=!0){const m=vb(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return Px(g,e),Ox(g,n),Mx(g,u),Vx(g,s),new xx(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lx(...i){const e=Ux();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(mg())return new Blob(i);throw new ft(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(i){if(typeof atob>"u")throw Ax("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mm{constructor(e,n){this.data=e,this.contentType=n||null}}function Bx(i,e){switch(i){case mi.RAW:return new Mm(Eb(e));case mi.BASE64:case mi.BASE64URL:return new Mm(Tb(i,e));case mi.DATA_URL:return new Mm(qx(e),Fx(e))}throw fg()}function Eb(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Hx(i){let e;try{e=decodeURIComponent(i)}catch{throw eu(mi.DATA_URL,"Malformed data URL.")}return Eb(e)}function Tb(i,e){switch(i){case mi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw eu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case mi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw eu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zx(e)}catch(o){throw o.message.includes("polyfill")?o:eu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class bb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Gx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function qx(i){const e=new bb(i);return e.base64?Tb(mi.BASE64,e.rest):Hx(e.rest)}function Fx(i){return new bb(i).contentType}function Gx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){let s=0,o="";AE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(AE(this.data_)){const s=this.data_,o=jx(s,e,n);return o===null?null:new zr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new zr(s,!0)}}static getBlob(...e){if(mg()){const n=e.map(s=>s instanceof zr?s.data_:s);return new zr(Lx.apply(null,n))}else{const n=e.map(f=>dg(f)?Bx(mi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new zr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i){let e;try{e=JSON.parse(i)}catch{return null}return Nx(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Qx(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function wb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i,e){return e}class sn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||$x}}let ih=null;function Yx(i){return!dg(i)||i.length<2?i:wb(i)}function Sb(){if(ih)return ih;const i=[];i.push(new sn("bucket")),i.push(new sn("generation")),i.push(new sn("metageneration")),i.push(new sn("name","fullPath",!0));function e(u,f){return Yx(f)}const n=new sn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new sn("size");return o.xform=s,i.push(o),i.push(new sn("timeCreated")),i.push(new sn("updated")),i.push(new sn("md5Hash",null,!0)),i.push(new sn("cacheControl",null,!0)),i.push(new sn("contentDisposition",null,!0)),i.push(new sn("contentEncoding",null,!0)),i.push(new sn("contentLanguage",null,!0)),i.push(new sn("contentType",null,!0)),i.push(new sn("metadata","customMetadata",!0)),ih=i,ih}function Xx(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new An(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Wx(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return Xx(s,i),s}function Rb(i,e,n){const s=Ab(e);return s===null?null:Wx(i,s,n)}function Zx(i,e,n,s){const o=Ab(e);if(o===null||!dg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,w=i.fullPath,S="/b/"+f(E)+"/o/"+f(w),V=pg(S,n,s),M=vb({alt:"media",token:g});return V+M})[0]}function Jx(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Ib{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(i){if(!i)throw fg()}function eO(i,e){function n(s,o){const u=Rb(i,o,e);return Cb(u!==null),u}return n}function tO(i,e){function n(s,o){const u=Rb(i,o,e);return Cb(u!==null),Zx(u,o,i.host,i._protocol)}return n}function Nb(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=mx():o=dx():n.getStatus()===402?o=fx(i.bucket):n.getStatus()===403?o=px(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function nO(i){const e=Nb(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=hx(i.path)),u.serverResponse=o.serverResponse,u}return n}function iO(i,e,n){const s=e.fullServerUrl(),o=pg(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Ib(o,u,tO(i,n),f);return m.errorHandler=nO(e),m}function rO(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function sO(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=rO(null,e)),s}function aO(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let ie=0;ie<2;ie++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=sO(e,s,o),E=Jx(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",V=zr.getBlob(w,s,S);if(V===null)throw Tx();const M={name:g.fullPath},$=pg(u,i.host,i._protocol),L="POST",K=i.maxUploadRetryTime,re=new Ib($,L,eO(i,n),K);return re.urlParams=M,re.headers=f,re.body=V.uploadData(),re.errorHandler=Nb(e),re}class oO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw Ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lO extends oO{initXhr(){this.xhr_.responseType="text"}}function Db(){return new lO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Js(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wb(this._location.path)}get storage(){return this._service}get parent(){const e=Kx(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new Js(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wx(e)}}function uO(i,e,n){i._throwIfRoot("uploadBytes");const s=aO(i.storage,i._location,Sb(),new zr(e,!0),n);return i.storage.makeRequestWithTokens(s,Db).then(o=>({metadata:o,ref:i}))}function cO(i){i._throwIfRoot("getDownloadURL");const e=iO(i.storage,i._location,Sb());return i.storage.makeRequestWithTokens(e,Db).then(n=>{if(n===null)throw bx();return n})}function hO(i,e){const n=Qx(i._location.path,e),s=new An(i._location.bucket,n);return new Js(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(i){return/^[A-Za-z]+:\/\//.test(i)}function dO(i,e){return new Js(i,e)}function xb(i,e){if(i instanceof gg){const n=i;if(n._bucket==null)throw Ex();const s=new Js(n,n._bucket);return e!=null?xb(s,e):s}else return e!==void 0?hO(i,e):i}function mO(i,e){if(e&&fO(e)){if(i instanceof gg)return dO(i,e);throw up("To use ref(service, url), the first argument must be a Storage instance.")}else return xb(i,e)}function SE(i,e){const n=e==null?void 0:e[yb];return n==null?null:An.makeFromBucketSpec(n,i)}function pO(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:nT(o,i.app.options.projectId))}class gg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=gb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ux,this._maxUploadRetryTime=cx,this._requests=new Set,o!=null?this._bucket=An.makeFromBucketSpec(o,this._host):this._bucket=SE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=SE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new Sx(_b());{const f=kx(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const RE="@firebase/storage",IE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="storage";function CE(i,e,n){return i=rt(i),uO(i,e,n)}function NE(i){return i=rt(i),cO(i)}function DE(i,e){return i=rt(i),mO(i,e)}function gO(i=Ep(),e){i=rt(i);const s=Fh(i,Ob).getImmediate({identifier:e}),o=JE("storage");return o&&yO(s,...o),s}function yO(i,e,n,s={}){pO(i,e,n,s)}function _O(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new gg(n,s,o,e,ea)}function vO(){$s(new $r(Ob,_O,"PUBLIC").setMultipleInstances(!0)),pi(RE,IE,""),pi(RE,IE,"esm2017")}vO();const EO={apiKey:"AIzaSyCnKNX6SQQUvXs5pDtwMFLlNSTLkm7YvCw",authDomain:"retailease-a45f0.firebaseapp.com",projectId:"retailease-a45f0",storageBucket:"retailease-a45f0.firebasestorage.app",messagingSenderId:"943909405770",appId:"1:943909405770:web:e42ab60d5d266e70eb92b3"},yg=sT(EO),rh=jC(yg),jl=zD(yg),xE=gO(yg),Mb=G.createContext();function ss(){return G.useContext(Mb)}function TO({children:i}){const[e,n]=G.useState(null),[s,o]=G.useState(!0);function u(E,w){return TI(rh,E,w)}function f(E,w){return bI(rh,E,w)}function m(){return CI(rh)}function p(E,w){return wI(E,w)}G.useEffect(()=>II(rh,w=>{n(w),o(!1)}),[]);const g={currentUser:e,signup:u,login:f,logout:m,updateUserProfile:p,loading:s};return b.jsx(Mb.Provider,{value:g,children:i})}var Pb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OE=Hr.createContext&&Hr.createContext(Pb),bO=["attr","size","title"];function AO(i,e){if(i==null)return{};var n=wO(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function wO(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Lh(){return Lh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Lh.apply(this,arguments)}function ME(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function jh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(s){SO(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function SO(i,e,n){return e=RO(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function RO(i){var e=IO(i,"string");return typeof e=="symbol"?e:e+""}function IO(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Vb(i){return i&&i.map((e,n)=>Hr.createElement(e.tag,jh({key:n},e.attr),Vb(e.child)))}function Dt(i){return e=>Hr.createElement(CO,Lh({attr:jh({},i.attr)},e),Vb(i.child))}function CO(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=AO(i,bO),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Hr.createElement("svg",Lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:jh(jh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Hr.createElement("title",null,u),i.children)};return OE!==void 0?Hr.createElement(OE.Consumer,null,n=>e(n)):e(Pb)}function kb(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(i)}function NO(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(i)}function Ub(i){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(i)}function DO(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(i)}function Lb(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(i)}function jb(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(i)}function xO(i){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function _g(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function zh(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function OO(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function MO(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function zb(i){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(i)}function PO(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}function to(i){return Dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(i)}function VO(i){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function kO(i){return Dt({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(i)}function UO(i){return Dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function LO(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function Bb(i){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}const jO=()=>{const[i,e]=G.useState(!1);return G.useEffect(()=>{const n=setTimeout(()=>{e(!0)},2500);return()=>clearTimeout(n)},[]),b.jsx("div",{className:`splash-screen ${i?"fade-out":"fade-in"}`,children:b.jsxs("div",{className:"splash-content",children:[b.jsx("div",{className:"logo-container",children:b.jsx(to,{className:"cart-icon"})}),b.jsx("h1",{className:"app-name",children:"Retail Ease"}),b.jsx("div",{className:"loading-bar",children:b.jsx("div",{className:"loading-progress"})})]})})},zO=()=>{const i=vo();return b.jsx("div",{className:"landing-page",children:b.jsxs("div",{className:"landing-content",children:[b.jsx("div",{className:"logo-container",children:b.jsx(to,{className:"cart-icon"})}),b.jsx("h1",{className:"app-title",children:"Welcome to Retail Ease"}),b.jsx("p",{className:"app-description",children:"Smart inventory management for Indian small businesses. Track items, get alerts, analyze sales."}),b.jsxs("div",{className:"button-group",children:[b.jsx("button",{className:"primary-btn register-btn",onClick:()=>i("/register"),children:"Register"}),b.jsx("button",{className:"secondary-btn login-btn",onClick:()=>i("/login"),children:"Login"})]}),b.jsxs("div",{className:"features-section",children:[b.jsxs("div",{className:"feature-card",children:[b.jsx("div",{className:"feature-icon",style:{backgroundColor:"var(--primary)"},children:b.jsx(to,{})}),b.jsx("h3",{children:"Inventory Management"}),b.jsx("p",{children:"Track your stock levels and get alerts for low inventory"})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("div",{className:"feature-icon",style:{backgroundColor:"var(--secondary)"},children:b.jsx(to,{})}),b.jsx("h3",{children:"Expiry Alerts"}),b.jsx("p",{children:"Never miss expiry dates with our smart notification system"})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("div",{className:"feature-icon",style:{backgroundColor:"var(--accent)"},children:b.jsx(to,{})}),b.jsx("h3",{children:"Business Analytics"}),b.jsx("p",{children:"Gain insights into your sales and profit margins"})]})]})]})})},BO=()=>{const[i,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(!1),{login:p}=ss(),g=vo(),E=async w=>{w.preventDefault();try{u(""),m(!0),await p(i,n),g("/dashboard")}catch(S){u("Failed to log in. Please check your credentials."),console.error(S)}m(!1)};return b.jsx("div",{className:"auth-container",children:b.jsxs("div",{className:"auth-card",children:[b.jsxs(di,{to:"/",className:"back-link",children:[b.jsx(kb,{})," Back to Home"]}),b.jsx("h2",{className:"auth-title",children:"Login to Retail Ease"}),o&&b.jsx("div",{className:"error-message",children:o}),b.jsxs("form",{onSubmit:E,className:"auth-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"email",children:[b.jsx(_g,{})," Email"]}),b.jsx("input",{type:"email",id:"email",value:i,onChange:w=>e(w.target.value),required:!0,placeholder:"Enter your email"})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"password",children:[b.jsx(zh,{})," Password"]}),b.jsx("input",{type:"password",id:"password",value:n,onChange:w=>s(w.target.value),required:!0,placeholder:"Enter your password"})]}),b.jsx("button",{type:"submit",className:"primary-btn auth-btn",disabled:f,children:f?"Logging in...":"Login"})]}),b.jsxs("p",{className:"auth-redirect",children:["Don't have an account? ",b.jsx(di,{to:"/register",children:"Register"})]})]})})},HO=()=>{const[i,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[f,m]=G.useState(""),[p,g]=G.useState(""),[E,w]=G.useState(!1),{signup:S,updateUserProfile:V}=ss(),M=vo(),$=async L=>{if(L.preventDefault(),o!==f)return g("Passwords do not match");try{g(""),w(!0);const{user:K}=await S(n,o);await V(K,{displayName:i}),M("/dashboard")}catch(K){g("Failed to create an account"),console.error(K)}w(!1)};return b.jsx("div",{className:"auth-container",children:b.jsxs("div",{className:"auth-card",children:[b.jsxs(di,{to:"/",className:"back-link",children:[b.jsx(kb,{})," Back to Home"]}),b.jsx("h2",{className:"auth-title",children:"Register for Retail Ease"}),p&&b.jsx("div",{className:"error-message",children:p}),b.jsxs("form",{onSubmit:$,className:"auth-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"name",children:[b.jsx(Bb,{})," Full Name"]}),b.jsx("input",{type:"text",id:"name",value:i,onChange:L=>e(L.target.value),required:!0,placeholder:"Enter your full name"})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"email",children:[b.jsx(_g,{})," Email"]}),b.jsx("input",{type:"email",id:"email",value:n,onChange:L=>s(L.target.value),required:!0,placeholder:"Enter your email"})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"password",children:[b.jsx(zh,{})," Password"]}),b.jsx("input",{type:"password",id:"password",value:o,onChange:L=>u(L.target.value),required:!0,placeholder:"Create a password",minLength:"6"})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{htmlFor:"confirmPassword",children:[b.jsx(zh,{})," Confirm Password"]}),b.jsx("input",{type:"password",id:"confirmPassword",value:f,onChange:L=>m(L.target.value),required:!0,placeholder:"Confirm your password",minLength:"6"})]}),b.jsx("button",{type:"submit",className:"primary-btn auth-btn",disabled:E,children:E?"Creating Account...":"Register"})]}),b.jsxs("p",{className:"auth-redirect",children:["Already have an account? ",b.jsx(di,{to:"/login",children:"Login"})]})]})})},qO=()=>{const{currentUser:i}=ss();return b.jsxs("div",{className:"dashboard",children:[b.jsx("h1",{className:"page-title",children:"Dashboard"}),b.jsxs("div",{className:"welcome-card",children:[b.jsxs("h2",{children:["Welcome, ",(i==null?void 0:i.displayName)||"User","!"]}),b.jsx("p",{children:"Manage your inventory and track your business performance with Retail Ease."})]}),b.jsxs("div",{className:"dashboard-stats",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("h3",{children:"Total Items"}),b.jsx("p",{className:"stat-value",children:"0"})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx("h3",{children:"Low Stock"}),b.jsx("p",{className:"stat-value",children:"0"})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx("h3",{children:"Expiring Soon"}),b.jsx("p",{className:"stat-value",children:"0"})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx("h3",{children:"Total Value"}),b.jsx("p",{className:"stat-value",children:"₹0"})]})]}),b.jsxs("div",{className:"dashboard-actions",children:[b.jsxs(di,{to:"/inventory",className:"action-card",children:[b.jsx("div",{className:"action-icon",style:{backgroundColor:"var(--primary)"},children:b.jsx(Ub,{})}),b.jsxs("div",{className:"action-content",children:[b.jsx("h3",{children:"Inventory"}),b.jsx("p",{children:"Manage your stock and items"})]})]}),b.jsxs(di,{to:"/profit-analysis",className:"action-card",children:[b.jsx("div",{className:"action-icon",style:{backgroundColor:"var(--secondary)"},children:b.jsx(Lb,{})}),b.jsxs("div",{className:"action-content",children:[b.jsx("h3",{children:"Profit Analysis"}),b.jsx("p",{children:"Track your business performance"})]})]}),b.jsxs(di,{to:"/ai-business-help",className:"action-card",children:[b.jsx("div",{className:"action-icon",style:{backgroundColor:"var(--accent)"},children:b.jsx(zb,{})}),b.jsxs("div",{className:"action-content",children:[b.jsx("h3",{children:"AI Business Help"}),b.jsx("p",{children:"Get AI-powered business insights"})]})]}),b.jsxs(di,{to:"/settings",className:"action-card",children:[b.jsx("div",{className:"action-icon",style:{backgroundColor:"var(--highlight)"},children:b.jsx(jb,{})}),b.jsxs("div",{className:"action-content",children:[b.jsx("h3",{children:"Settings"}),b.jsx("p",{children:"Configure your account"})]})]})]})]})},FO=({onSubmit:i,onUpdate:e,editItem:n,setEditItem:s,categories:o})=>{const[u,f]=G.useState({name:"",quantity:0,price:0,expiryDate:"",category:"",barcode:"",newCategory:""}),[m,p]=G.useState(null),[g,E]=G.useState(null),[w,S]=G.useState(!1),[V,M]=G.useState(""),[$,L]=G.useState("");G.useEffect(()=>{n&&(f({name:n.name||"",quantity:n.quantity||0,price:n.price||0,expiryDate:n.expiryDate?new Date(n.expiryDate.seconds*1e3).toISOString().split("T")[0]:"",category:n.category||"",barcode:n.barcode||"",newCategory:""}),n.imageUrl?E(n.imageUrl):E(null))},[n]);const K=se=>{const{name:ce,value:N,type:R}=se.target;f(I=>({...I,[ce]:R==="number"?Number.parseFloat(N)||0:N}))},re=se=>{const ce=se.target.files[0];if(!ce)return;p(ce);const N=new FileReader;N.onloadend=()=>{E(N.result)},N.readAsDataURL(ce)},Z=async se=>{se.preventDefault(),M(""),L(""),S(!0);try{const ce={name:u.name,quantity:u.quantity,price:u.price,expiryDate:u.expiryDate?new Date(u.expiryDate):null,category:u.category||(u.newCategory?u.newCategory:"Uncategorized"),barcode:u.barcode};if(n){const N=await e(n.id,{...ce,imageUrl:n.imageUrl},m);N.success?(L("Item updated successfully!"),ie()):M(N.error||"Failed to update item")}else{const N=await i(ce,m);N.success?(L("Item added successfully!"),ie()):M(N.error||"Failed to add item")}}catch(ce){console.error("Error in form submission:",ce),M("An unexpected error occurred")}S(!1)},ie=()=>{f({name:"",quantity:0,price:0,expiryDate:"",category:"",barcode:"",newCategory:""}),p(null),E(null),s(null)};return b.jsxs("div",{className:"inventory-form-container",children:[b.jsx("h2",{className:"form-title",children:n?"Edit Item":"Add New Item"}),V&&b.jsx("div",{className:"error-message",children:V}),$&&b.jsx("div",{className:"success-message",children:$}),b.jsxs("form",{onSubmit:Z,className:"inventory-form",children:[b.jsxs("div",{className:"form-grid",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"name",children:"Item Name*"}),b.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:K,required:!0,placeholder:"Enter item name"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"quantity",children:"Quantity*"}),b.jsx("input",{type:"number",id:"quantity",name:"quantity",value:u.quantity,onChange:K,required:!0,min:"0",step:"1"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"price",children:"Price (₹)*"}),b.jsx("input",{type:"number",id:"price",name:"price",value:u.price,onChange:K,required:!0,min:"0",step:"0.01"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"expiryDate",children:"Expiry Date"}),b.jsx("input",{type:"date",id:"expiryDate",name:"expiryDate",value:u.expiryDate,onChange:K})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"category",children:"Category"}),b.jsxs("select",{id:"category",name:"category",value:u.category,onChange:K,children:[b.jsx("option",{value:"",children:"Select Category"}),o.map(se=>b.jsx("option",{value:se,children:se},se)),b.jsx("option",{value:"new",children:"+ Add New Category"})]})]}),u.category==="new"&&b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"newCategory",children:"New Category"}),b.jsx("input",{type:"text",id:"newCategory",name:"newCategory",value:u.newCategory,onChange:K,placeholder:"Enter new category name"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"barcode",children:"Barcode (Optional)"}),b.jsx("input",{type:"text",id:"barcode",name:"barcode",value:u.barcode,onChange:K,placeholder:"Enter barcode"})]}),b.jsxs("div",{className:"form-group image-upload-group",children:[b.jsx("label",{children:"Item Image"}),b.jsxs("div",{className:"image-upload",children:[b.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:re,className:"image-input"}),b.jsxs("label",{htmlFor:"image",className:"image-label",children:[b.jsx(DO,{className:"camera-icon"}),b.jsx("span",{children:m?"Change Image":"Upload Image"})]}),g&&b.jsx("div",{className:"image-preview",children:b.jsx("img",{src:g||"/placeholder.svg",alt:"Preview"})})]})]})]}),b.jsxs("div",{className:"form-actions",children:[n&&b.jsx("button",{type:"button",className:"outline-btn cancel-btn",onClick:ie,children:"Cancel"}),b.jsx("button",{type:"submit",className:"primary-btn submit-btn",disabled:w,children:w?"Processing...":n?"Update Item":"Add Item"})]})]})]})},GO=({items:i,loading:e,onDelete:n,onEdit:s,onUpdateQuantity:o})=>{const u=p=>p?new Date(p.seconds*1e3).toLocaleDateString():"N/A",f=p=>{if(!p)return!1;const w=new Date(p.seconds*1e3)-new Date,S=Math.ceil(w/(1e3*60*60*24));return S>0&&S<=30},m=p=>p<5;return e?b.jsx("div",{className:"loading",children:"Loading inventory..."}):i.length===0?b.jsx("div",{className:"empty-inventory",children:b.jsx("p",{children:"No items found. Add your first item using the form above."})}):b.jsxs("div",{className:"inventory-list",children:[b.jsxs("h2",{className:"list-title",children:["Your Inventory (",i.length," items)"]}),b.jsx("div",{className:"item-grid",children:i.map(p=>b.jsxs("div",{className:"item-card",children:[b.jsx("div",{className:"item-image",children:p.imageUrl?b.jsx("img",{src:p.imageUrl||"/placeholder.svg",alt:p.name}):b.jsx("div",{className:"no-image",children:"No Image"})}),b.jsxs("div",{className:"item-details",children:[b.jsx("h3",{className:"item-name",children:p.name}),b.jsxs("div",{className:"item-info",children:[b.jsxs("div",{className:"info-row",children:[b.jsx("span",{className:"info-label",children:"Price:"}),b.jsxs("span",{className:"info-value",children:["₹",p.price.toFixed(2)]})]}),b.jsxs("div",{className:"info-row",children:[b.jsx("span",{className:"info-label",children:"Category:"}),b.jsx("span",{className:"info-value",children:p.category||"Uncategorized"})]}),b.jsxs("div",{className:"info-row",children:[b.jsx("span",{className:"info-label",children:"Expiry:"}),b.jsx("span",{className:`info-value ${f(p.expiryDate)?"expiring-soon":""}`,children:u(p.expiryDate)})]}),b.jsxs("div",{className:"info-row",children:[b.jsx("span",{className:"info-label",children:"Barcode:"}),b.jsx("span",{className:"info-value",children:p.barcode||"N/A"})]})]}),b.jsxs("div",{className:"quantity-control",children:[b.jsx("button",{className:"quantity-btn minus-btn",onClick:()=>o(p.id,p.quantity-1),disabled:p.quantity<=0,children:b.jsx(OO,{})}),b.jsx("span",{className:`quantity-value ${m(p.quantity)?"low-stock":""}`,children:p.quantity}),b.jsx("button",{className:"quantity-btn plus-btn",onClick:()=>o(p.id,p.quantity+1),children:b.jsx(MO,{})})]})]}),b.jsxs("div",{className:"item-actions",children:[b.jsx("button",{className:"action-btn edit-btn",onClick:()=>s(p),title:"Edit Item",children:b.jsx(xO,{})}),b.jsx("button",{className:"action-btn delete-btn",onClick:()=>n(p.id),title:"Delete Item",children:b.jsx(LO,{})})]})]},p.id))})]})},KO=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(""),[f,m]=G.useState(""),[p,g]=G.useState("All"),[E,w]=G.useState(["All"]),[S,V]=G.useState(null),{currentUser:M}=ss();G.useEffect(()=>{if(!M)return;s(!0);const ie=JD(gE(jl,"inventory"),ex("userId","==",M.uid));return ox(ie,ce=>{const N=[],R=new Set(["All"]);ce.forEach(I=>{const O={id:I.id,...I.data()};N.push(O),O.category&&R.add(O.category)}),e(N),w(Array.from(R)),s(!1)},ce=>{console.error("Error fetching inventory:",ce),u("Failed to load inventory items"),s(!1)})},[M]);const $=async(ie,se)=>{try{let ce=null;if(se){const N=DE(xE,`inventory/${M.uid}/${Date.now()}_${se.name}`);await CE(N,se),ce=await NE(N)}return await ax(gE(jl,"inventory"),{...ie,imageUrl:ce,userId:M.uid,createdAt:xm()}),{success:!0}}catch(ce){return console.error("Error adding item:",ce),{success:!1,error:"Failed to add item"}}},L=async(ie,se,ce)=>{try{let N=se.imageUrl;if(ce){const R=DE(xE,`inventory/${M.uid}/${Date.now()}_${ce.name}`);await CE(R,ce),N=await NE(R)}return await bE(gh(jl,"inventory",ie),{...se,imageUrl:N,updatedAt:xm()}),V(null),{success:!0}}catch(N){return console.error("Error updating item:",N),{success:!1,error:"Failed to update item"}}},K=async ie=>{if(window.confirm("Are you sure you want to delete this item?"))try{await sx(gh(jl,"inventory",ie))}catch(se){console.error("Error deleting item:",se),u("Failed to delete item")}},re=async(ie,se)=>{if(!(se<0))try{await bE(gh(jl,"inventory",ie),{quantity:se,updatedAt:xm()})}catch(ce){console.error("Error updating quantity:",ce),u("Failed to update quantity")}},Z=i.filter(ie=>{const se=ie.name.toLowerCase().includes(f.toLowerCase()),ce=p==="All"||ie.category===p;return se&&ce});return b.jsxs("div",{className:"inventory-page",children:[b.jsx("h1",{className:"page-title",children:"Inventory Management"}),o&&b.jsx("div",{className:"error-message",children:o}),b.jsx(FO,{onSubmit:$,onUpdate:L,editItem:S,setEditItem:V,categories:E.filter(ie=>ie!=="All")}),b.jsxs("div",{className:"inventory-filters",children:[b.jsxs("div",{className:"search-container",children:[b.jsx(PO,{className:"search-icon"}),b.jsx("input",{type:"text",placeholder:"Search items...",value:f,onChange:ie=>m(ie.target.value),className:"search-input"})]}),b.jsx("select",{value:p,onChange:ie=>g(ie.target.value),className:"category-filter",children:E.map(ie=>b.jsx("option",{value:ie,children:ie},ie))})]}),b.jsx(GO,{items:Z,loading:n,onDelete:K,onEdit:V,onUpdateQuantity:re})]})},QO=()=>b.jsxs("div",{className:"profit-analysis",children:[b.jsx("h1",{className:"page-title",children:"Profit Analysis"}),b.jsxs("div",{className:"coming-soon",children:[b.jsx("h2",{children:"Coming Soon!"}),b.jsx("p",{children:"We're working on building powerful profit analysis tools for your business."}),b.jsx("p",{children:"This feature will help you track sales, analyze profit margins, and identify trends."})]})]}),$O=()=>b.jsxs("div",{className:"ai-business-help",children:[b.jsx("h1",{className:"page-title",children:"AI Business Help"}),b.jsxs("div",{className:"coming-soon",children:[b.jsx("h2",{children:"Coming Soon!"}),b.jsx("p",{children:"We're developing AI-powered business insights to help you grow your retail business."}),b.jsx("p",{children:"This feature will provide personalized recommendations based on your inventory and sales data."})]})]}),YO=()=>{const{currentUser:i}=ss(),[e,n]=G.useState("profile");return b.jsxs("div",{className:"settings-page",children:[b.jsx("h1",{className:"page-title",children:"Settings"}),b.jsxs("div",{className:"settings-container",children:[b.jsxs("div",{className:"settings-tabs",children:[b.jsxs("button",{className:`tab-button ${e==="profile"?"active":""}`,onClick:()=>n("profile"),children:[b.jsx(Bb,{className:"tab-icon"}),b.jsx("span",{children:"Profile"})]}),b.jsxs("button",{className:`tab-button ${e==="store"?"active":""}`,onClick:()=>n("store"),children:[b.jsx(kO,{className:"tab-icon"}),b.jsx("span",{children:"Store Details"})]}),b.jsxs("button",{className:`tab-button ${e==="account"?"active":""}`,onClick:()=>n("account"),children:[b.jsx(_g,{className:"tab-icon"}),b.jsx("span",{children:"Account"})]}),b.jsxs("button",{className:`tab-button ${e==="password"?"active":""}`,onClick:()=>n("password"),children:[b.jsx(zh,{className:"tab-icon"}),b.jsx("span",{children:"Password"})]})]}),b.jsxs("div",{className:"settings-content",children:[e==="profile"&&b.jsxs("div",{className:"settings-section",children:[b.jsx("h2",{className:"section-title",children:"Profile Settings"}),b.jsx("p",{className:"coming-soon-text",children:"Profile settings will be available soon."})]}),e==="store"&&b.jsxs("div",{className:"settings-section",children:[b.jsx("h2",{className:"section-title",children:"Store Details"}),b.jsx("p",{className:"coming-soon-text",children:"Store settings will be available soon."})]}),e==="account"&&b.jsxs("div",{className:"settings-section",children:[b.jsx("h2",{className:"section-title",children:"Account Settings"}),b.jsx("p",{className:"coming-soon-text",children:"Account settings will be available soon."})]}),e==="password"&&b.jsxs("div",{className:"settings-section",children:[b.jsx("h2",{className:"section-title",children:"Change Password"}),b.jsx("p",{className:"coming-soon-text",children:"Password change functionality will be available soon."})]})]})]})]})},XO=({toggleSidebar:i})=>{const{currentUser:e}=ss(),n=()=>e!=null&&e.displayName?e.displayName.split(" ").map(s=>s[0]).join("").toUpperCase():"U";return b.jsx("nav",{className:"navbar",children:b.jsxs("div",{className:"navbar-container",children:[b.jsxs("div",{className:"navbar-left",children:[b.jsx("button",{className:"menu-button",onClick:i,children:b.jsx(NO,{})}),b.jsxs("div",{className:"navbar-logo",children:[b.jsx(to,{className:"logo-icon"}),b.jsx("span",{className:"logo-text",children:"Retail Ease"})]})]}),b.jsx("div",{className:"navbar-right",children:b.jsx("div",{className:"user-profile",children:e!=null&&e.photoURL?b.jsx("img",{src:e.photoURL||"/placeholder.svg",alt:"User Profile",className:"profile-image"}):b.jsx("div",{className:"profile-initials",children:n()})})})]})})},WO=({isOpen:i,toggleSidebar:e,onLogout:n})=>b.jsxs("div",{className:`sidebar ${i?"open":""}`,children:[b.jsx("div",{className:"sidebar-header",children:b.jsx("button",{className:"close-button",onClick:e,children:b.jsx(UO,{})})}),b.jsx("div",{className:"sidebar-content",children:b.jsxs("ul",{className:"sidebar-menu",children:[b.jsx("li",{className:"sidebar-item",children:b.jsxs(Hl,{to:"/inventory",className:({isActive:s})=>s?"sidebar-link active":"sidebar-link",onClick:()=>e(),children:[b.jsx(Ub,{className:"sidebar-icon"}),b.jsx("span",{children:"Inventory"})]})}),b.jsx("li",{className:"sidebar-item",children:b.jsxs(Hl,{to:"/profit-analysis",className:({isActive:s})=>s?"sidebar-link active":"sidebar-link",onClick:()=>e(),children:[b.jsx(Lb,{className:"sidebar-icon"}),b.jsx("span",{children:"Profit Analysis"})]})}),b.jsx("li",{className:"sidebar-item",children:b.jsxs(Hl,{to:"/ai-business-help",className:({isActive:s})=>s?"sidebar-link active":"sidebar-link",onClick:()=>e(),children:[b.jsx(zb,{className:"sidebar-icon"}),b.jsx("span",{children:"AI Business Help"})]})}),b.jsx("li",{className:"sidebar-item",children:b.jsxs(Hl,{to:"/settings",className:({isActive:s})=>s?"sidebar-link active":"sidebar-link",onClick:()=>e(),children:[b.jsx(jb,{className:"sidebar-icon"}),b.jsx("span",{children:"Settings"})]})})]})}),b.jsx("div",{className:"sidebar-footer",children:b.jsxs("button",{className:"logout-button",onClick:n,children:[b.jsx(VO,{className:"sidebar-icon"}),b.jsx("span",{children:"Logout"})]})})]}),zl=({children:i})=>{const[e,n]=G.useState(!1),{logout:s}=ss(),o=vo(),u=()=>{n(!e)},f=async()=>{try{await s(),o("/")}catch(m){console.error("Failed to log out",m)}};return b.jsxs("div",{className:"main-layout",children:[b.jsx(XO,{toggleSidebar:u}),b.jsxs("div",{className:"layout-container",children:[b.jsx(WO,{isOpen:e,toggleSidebar:u,onLogout:f}),b.jsx("main",{className:`main-content ${e?"sidebar-open":""}`,children:i})]})]})},Bl=({children:i})=>{const{currentUser:e,loading:n}=ss();return n?b.jsx("div",{className:"loading",children:"Loading..."}):e?i:b.jsx(hS,{to:"/login"})};function ZO(){const[i,e]=G.useState(!0);return G.useEffect(()=>{const n=setTimeout(()=>{e(!1)},3e3);return()=>clearTimeout(n)},[]),i?b.jsx(jO,{}):b.jsxs(dS,{children:[b.jsx(Yi,{path:"/",element:b.jsx(zO,{})}),b.jsx(Yi,{path:"/login",element:b.jsx(BO,{})}),b.jsx(Yi,{path:"/register",element:b.jsx(HO,{})}),b.jsx(Yi,{path:"/dashboard",element:b.jsx(Bl,{children:b.jsx(zl,{children:b.jsx(qO,{})})})}),b.jsx(Yi,{path:"/inventory",element:b.jsx(Bl,{children:b.jsx(zl,{children:b.jsx(KO,{})})})}),b.jsx(Yi,{path:"/profit-analysis",element:b.jsx(Bl,{children:b.jsx(zl,{children:b.jsx(QO,{})})})}),b.jsx(Yi,{path:"/ai-business-help",element:b.jsx(Bl,{children:b.jsx(zl,{children:b.jsx($O,{})})})}),b.jsx(Yi,{path:"/settings",element:b.jsx(Bl,{children:b.jsx(zl,{children:b.jsx(YO,{})})})})]})}bw.createRoot(document.getElementById("root")).render(b.jsx(Hr.StrictMode,{children:b.jsx(kS,{children:b.jsx(TO,{children:b.jsx(ZO,{})})})}));
